"use strict";!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ot.type(t);return"function"!==n&&!ot.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(ot.isFunction(e))return ot.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ot.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(vt.test(e))return ot.filter(e,t,n);e=ot.filter(e,t)}return ot.grep(t,function(t){return Z.call(e,t)>-1!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return ot.each(t.match(bt)||[],function(t,n){e[n]=!0}),e}function s(){G.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s),ot.ready()}function a(){this.expando=ot.expando+a.uid++}function u(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Ct,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Lt.test(n)?ot.parseJSON(n):n)}catch(r){}Et.set(t,e,n)}else n=void 0;return n}function c(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return ot.css(t,e,"")},u=a(),c=n&&n[3]||(ot.cssNumber[e]?"":"px"),l=(ot.cssNumber[e]||"px"!==c&&+u)&&Dt.exec(ot.css(t,e));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do o=o||".5",l/=o,ot.style(t,e,l+c);while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(l=+l||+u||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=l,i.end=r)),r}function l(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ot.nodeName(t,e)?ot.merge([t],n):n}function h(t,e){for(var n=0,i=t.length;i>n;n++)St.set(t[n],"globalEval",!e||St.get(e[n],"globalEval"))}function p(t,e,n,i,r){for(var o,s,a,u,c,p,f=e.createDocumentFragment(),d=[],v=0,g=t.length;g>v;v++)if(o=t[v],o||0===o)if("object"===ot.type(o))ot.merge(d,o.nodeType?[o]:o);else if(Ft.test(o)){for(s=s||f.appendChild(e.createElement("div")),a=(Nt.exec(o)||["",""])[1].toLowerCase(),u=jt[a]||jt._default,s.innerHTML=u[1]+ot.htmlPrefilter(o)+u[2],p=u[0];p--;)s=s.lastChild;ot.merge(d,s.childNodes),s=f.firstChild,s.textContent=""}else d.push(e.createTextNode(o));for(f.textContent="",v=0;o=d[v++];)if(i&&ot.inArray(o,i)>-1)r&&r.push(o);else if(c=ot.contains(o.ownerDocument,o),s=l(f.appendChild(o),"script"),c&&h(s),n)for(p=0;o=s[p++];)Pt.test(o.type||"")&&n.push(o);return f}function f(){return!0}function d(){return!1}function v(){try{return G.activeElement}catch(t){}}function g(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)g(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=d;else if(!r)return t;return 1===o&&(s=r,r=function(t){return ot().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ot.guid++)),t.each(function(){ot.event.add(this,e,r,i,n)})}function m(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function x(t){var e=$t.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function w(t,e){var n,i,r,o,s,a,u,c;if(1===e.nodeType){if(St.hasData(t)&&(o=St.access(t),s=St.set(e,o),c=o.events)){delete s.handle,s.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)ot.event.add(e,r,c[r][n])}Et.hasData(t)&&(a=Et.access(t),u=ot.extend({},a),Et.set(e,u))}}function b(t,e){var n=e.nodeName.toLowerCase();"input"===n&&At.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function T(t,e,n,i){e=K.apply([],e);var r,o,s,a,u,c,h=0,f=t.length,d=f-1,v=e[0],g=ot.isFunction(v);if(g||f>1&&"string"==typeof v&&!it.checkClone&&Wt.test(v))return t.each(function(r){var o=t.eq(r);g&&(e[0]=v.call(this,r,o.html())),T(o,e,n,i)});if(f&&(r=p(e,t[0].ownerDocument,!1,t,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=ot.map(l(r,"script"),y),a=s.length;f>h;h++)u=r,h!==d&&(u=ot.clone(u,!0,!0),a&&ot.merge(s,l(u,"script"))),n.call(t[h],u,h);if(a)for(c=s[s.length-1].ownerDocument,ot.map(s,x),h=0;a>h;h++)u=s[h],Pt.test(u.type||"")&&!St.access(u,"globalEval")&&ot.contains(c,u)&&(u.src?ot._evalUrl&&ot._evalUrl(u.src):ot.globalEval(u.textContent.replace(Bt,"")))}return t}function _(t,e,n){for(var i,r=e?ot.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ot.cleanData(l(i)),i.parentNode&&(n&&ot.contains(i.ownerDocument,i)&&h(l(i,"script")),i.parentNode.removeChild(i));return t}function O(t,e){var n=ot(e.createElement(t)).appendTo(e.body),i=ot.css(n[0],"display");return n.detach(),i}function S(t){var e=G,n=Xt[t];return n||(n=O(t,e),"none"!==n&&n||(Vt=(Vt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Vt[0].contentDocument,e.write(),e.close(),n=O(t,e),Vt.detach()),Xt[t]=n),n}function E(t,e,n){var i,r,o,s,a=t.style;return n=n||Jt(t),s=n?n.getPropertyValue(e)||n[e]:void 0,""!==s&&void 0!==s||ot.contains(t.ownerDocument,t)||(s=ot.style(t,e)),n&&!it.pixelMarginRight()&&Gt.test(s)&&Yt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0!==s?s+"":s}function L(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function C(t){if(t in ie)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ne.length;n--;)if(t=ne[n]+e,t in ie)return t}function I(t,e,n){var i=Dt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function D(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ot.css(t,n+kt[o],!0,r)),i?("content"===n&&(s-=ot.css(t,"padding"+kt[o],!0,r)),"margin"!==n&&(s-=ot.css(t,"border"+kt[o]+"Width",!0,r))):(s+=ot.css(t,"padding"+kt[o],!0,r),"padding"!==n&&(s+=ot.css(t,"border"+kt[o]+"Width",!0,r)));return s}function k(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Jt(t),s="border-box"===ot.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=E(t,e,o),(0>r||null==r)&&(r=t.style[e]),Gt.test(r))return r;i=s&&(it.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+D(t,e,n||(s?"border":"content"),i,o)+"px"}function M(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(o[s]=St.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Mt(i)&&(o[s]=St.access(i,"olddisplay",S(i.nodeName)))):(r=Mt(i),"none"===n&&r||St.set(i,"olddisplay",r?n:ot.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function A(t,e,n,i,r){return new A.prototype.init(t,e,n,i,r)}function N(){return t.setTimeout(function(){re=void 0}),re=ot.now()}function P(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=kt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function j(t,e,n){for(var i,r=(R.tweeners[e]||[]).concat(R.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function F(t,e,n){var i,r,o,s,a,u,c,l,h=this,p={},f=t.style,d=t.nodeType&&Mt(t),v=St.get(t,"fxshow");n.queue||(a=ot._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,ot.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=ot.css(t,"display"),l="none"===c?St.get(t,"olddisplay")||S(t.nodeName):c,"inline"===l&&"none"===ot.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],se.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;d=!0}p[i]=v&&v[i]||ot.style(t,i)}else c=void 0;if(ot.isEmptyObject(p))"inline"===("none"===c?S(t.nodeName):c)&&(f.display=c);else{v?"hidden"in v&&(d=v.hidden):v=St.access(t,"fxshow",{}),o&&(v.hidden=!d),d?ot(t).show():h.done(function(){ot(t).hide()}),h.done(function(){var e;St.remove(t,"fxshow");for(e in p)ot.style(t,e,p[e])});for(i in p)s=j(d?v[i]:0,i,h),i in v||(v[i]=s.start,d&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function H(t,e){var n,i,r,o,s;for(n in t)if(i=ot.camelCase(n),r=e[i],o=t[n],ot.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=ot.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function R(t,e,n){var i,r,o=0,s=R.prefilters.length,a=ot.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=re||N(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,o=1-i,s=0,u=c.tweens.length;u>s;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),1>o&&u?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{},easing:ot.easing._default},n),originalProperties:e,originalOptions:n,startTime:re||N(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ot.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),l=c.props;for(H(l,c.opts.specialEasing);s>o;o++)if(i=R.prefilters[o].call(c,t,l,c.opts))return ot.isFunction(i.stop)&&(ot._queueHooks(c.elem,c.opts.queue).stop=ot.proxy(i.stop,i)),i;return ot.map(l,j,c),ot.isFunction(c.opts.start)&&c.opts.start.call(t,c),ot.fx.timer(ot.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function q(t){return t.getAttribute&&t.getAttribute("class")||""}function z(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(bt)||[];if(ot.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function U(t,e,n,i){function r(a){var u;return o[a]=!0,ot.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||o[c]?s?!(u=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),u}var o={},s=t===Ee;return r(e.dataTypes[0])||!o["*"]&&r("*")}function W(t,e){var n,i,r=ot.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&ot.extend(!0,t,i),t}function $(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function B(t,e,n,i){var r,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=c[u+" "+o]||c["* "+o],!s)for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function V(t,e,n,i){var r;if(ot.isArray(e))ot.each(e,function(e,r){n||De.test(t)?i(t,r):V(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==ot.type(e))i(t,e);else for(r in e)V(t+"["+r+"]",e[r],n,i)}function X(t){return ot.isWindow(t)?t:9===t.nodeType&&t.defaultView}var Y=[],G=t.document,J=Y.slice,K=Y.concat,Q=Y.push,Z=Y.indexOf,tt={},et=tt.toString,nt=tt.hasOwnProperty,it={},rt="2.2.4",ot=function(t,e){return new ot.fn.init(t,e)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,ut=/-([\da-z])/gi,ct=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:rt,constructor:ot,selector:"",length:0,toArray:function(){return J.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:J.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ot.each(this,t)},map:function(t){return this.pushStack(ot.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Q,sort:Y.sort,splice:Y.splice},ot.extend=ot.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ot.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(c&&i&&(ot.isPlainObject(i)||(r=ot.isArray(i)))?(r?(r=!1,o=n&&ot.isArray(n)?n:[]):o=n&&ot.isPlainObject(n)?n:{},s[e]=ot.extend(c,o,i)):void 0!==i&&(s[e]=i));return s},ot.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!ot.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==ot.type(t)||t.nodeType||ot.isWindow(t))return!1;if(t.constructor&&!nt.call(t,"constructor")&&!nt.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||nt.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=ot.trim(t),t&&(1===t.indexOf("use strict")?(e=G.createElement("script"),e.text=t,G.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(at,"ms-").replace(ut,ct)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;i>r&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(st,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ot.merge(i,"string"==typeof t?[t]:t):Q.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:Z.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;s>o;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,i){var r,o,s=0,a=[];if(n(t))for(r=t.length;r>s;s++)o=e(t[s],s,i),null!=o&&a.push(o);else for(s in t)o=e(t[s],s,i),null!=o&&a.push(o);return K.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),ot.isFunction(t)?(i=J.call(arguments,2),r=function(){return t.apply(e||this,i.concat(J.call(arguments)))},r.guid=t.guid=t.guid||ot.guid++,r):void 0},now:Date.now,support:it}),"function"==typeof Symbol&&(ot.fn[Symbol.iterator]=Y[Symbol.iterator]),ot.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var lt=function(t){function e(t,e,n,i){var r,o,s,a,u,c,h,f,d=e&&e.ownerDocument,v=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==v&&9!==v&&11!==v)return n;if(!i&&((e?e.ownerDocument||e:q)!==M&&k(e),e=e||M,N)){if(11!==v&&(c=mt.exec(t)))if(r=c[1]){if(9===v){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(d&&(s=d.getElementById(r))&&H(e,s)&&s.id===r)return n.push(s),n}else{if(c[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((r=c[3])&&b.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(r)),n}if(b.qsa&&!B[t+" "]&&(!P||!P.test(t))){if(1!==v)d=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(xt,"\\$&"):e.setAttribute("id",a=R),h=S(t),o=h.length,u=pt.test(a)?"#"+a:"[id='"+a+"']";o--;)h[o]=u+" "+p(h[o]);f=h.join(","),d=yt.test(t)&&l(e.parentNode)||e}if(f)try{return Q.apply(n,d.querySelectorAll(f)),n}catch(g){}finally{a===R&&e.removeAttribute("id")}}}return L(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>T.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[R]=!0,t}function r(t){var e=M.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)T.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function l(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function p(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=U++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,u,c,l=[z,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(c=e[R]||(e[R]={}),u=c[e.uniqueID]||(c[e.uniqueID]={}),(a=u[i])&&a[0]===z&&a[1]===o)return l[2]=a[2];if(u[i]=l,l[2]=t(e,n,s))return!0}}}function d(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function v(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function g(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,c=null!=e;u>a;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),c&&e.push(a)));return s}function m(t,e,n,r,o,s){return r&&!r[R]&&(r=m(r)),o&&!o[R]&&(o=m(o,s)),i(function(i,s,a,u){var c,l,h,p=[],f=[],d=s.length,m=i||v(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?m:g(m,p,t,a,u),x=n?o||(i?t:d||r)?[]:s:y;if(n&&n(y,x,a,u),r)for(c=g(x,f),r(c,[],a,u),l=c.length;l--;)(h=c[l])&&(x[f[l]]=!(y[f[l]]=h));if(i){if(o||t){if(o){for(c=[],l=x.length;l--;)(h=x[l])&&c.push(y[l]=h);o(null,x=[],c,u)}for(l=x.length;l--;)(h=x[l])&&(c=o?tt(i,h):p[l])>-1&&(i[c]=!(s[c]=h))}}else x=g(x===s?x.splice(d,x.length):x),o?o(null,s,x,u):Q.apply(s,x)})}function y(t){for(var e,n,i,r=t.length,o=T.relative[t[0].type],s=o||T.relative[" "],a=o?1:0,u=f(function(t){return t===e},s,!0),c=f(function(t){return tt(e,t)>-1},s,!0),l=[function(t,n,i){var r=!o&&(i||n!==C)||((e=n).nodeType?u(t,n,i):c(t,n,i));return e=null,r}];r>a;a++)if(n=T.relative[t[a].type])l=[f(d(l),n)];else{if(n=T.filter[t[a].type].apply(null,t[a].matches),n[R]){for(i=++a;r>i&&!T.relative[t[i].type];i++);return m(a>1&&d(l),a>1&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,i>a&&y(t.slice(a,i)),r>i&&y(t=t.slice(i)),r>i&&p(t))}l.push(n)}return d(l)}function x(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,u,c){var l,h,p,f=0,d="0",v=i&&[],m=[],y=C,x=i||o&&T.find.TAG("*",c),w=z+=null==y?1:Math.random()||.1,b=x.length;for(c&&(C=s===M||s||c);d!==b&&null!=(l=x[d]);d++){if(o&&l){for(h=0,s||l.ownerDocument===M||(k(l),a=!N);p=t[h++];)if(p(l,s||M,a)){u.push(l);break}c&&(z=w)}r&&((l=!p&&l)&&f--,i&&v.push(l))}if(f+=d,r&&d!==f){for(h=0;p=n[h++];)p(v,m,s,a);if(i){if(f>0)for(;d--;)v[d]||m[d]||(m[d]=J.call(u));m=g(m)}Q.apply(u,m),c&&!i&&m.length>0&&f+n.length>1&&e.uniqueSort(u)}return c&&(z=w,C=y),v};return r?i(s):s}var w,b,T,_,O,S,E,L,C,I,D,k,M,A,N,P,j,F,H,R="sizzle"+1*new Date,q=t.document,z=0,U=0,W=n(),$=n(),B=n(),V=function(t,e){return t===e&&(D=!0),0},X=1<<31,Y={}.hasOwnProperty,G=[],J=G.pop,K=G.push,Q=G.push,Z=G.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),lt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),pt=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,xt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Tt=function(){k()};try{Q.apply(G=Z.call(q.childNodes),q.childNodes),G[q.childNodes.length].nodeType}catch(_t){Q={apply:G.length?function(t,e){K.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}b=e.support={},O=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},k=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:q;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,A=M.documentElement,N=!O(M),(n=M.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Tt,!1):n.attachEvent&&n.attachEvent("onunload",Tt)),b.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=r(function(t){return t.appendChild(M.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=gt.test(M.getElementsByClassName),b.getById=r(function(t){return A.appendChild(t).id=R,!M.getElementsByName||!M.getElementsByName(R).length}),b.getById?(T.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n?[n]:[]}},T.filter.ID=function(t){var e=t.replace(wt,bt);return function(t){return t.getAttribute("id")===e}}):(delete T.find.ID,T.filter.ID=function(t){var e=t.replace(wt,bt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),T.find.TAG=b.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},T.find.CLASS=b.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&N?e.getElementsByClassName(t):void 0},j=[],P=[],(b.qsa=gt.test(M.querySelectorAll))&&(r(function(t){A.appendChild(t).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+R+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+R+"+*").length||P.push(".#.+[+~]")}),r(function(t){var e=M.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(b.matchesSelector=gt.test(F=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&r(function(t){b.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),j.push("!=",ot)}),P=P.length&&new RegExp(P.join("|")),j=j.length&&new RegExp(j.join("|")),e=gt.test(A.compareDocumentPosition),H=e||gt.test(A.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return D=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===M||t.ownerDocument===q&&H(q,t)?-1:e===M||e.ownerDocument===q&&H(q,e)?1:I?tt(I,t)-tt(I,e):0:4&n?-1:1)}:function(t,e){if(t===e)return D=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],u=[e];if(!r||!o)return t===M?-1:e===M?1:r?-1:o?1:I?tt(I,t)-tt(I,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;a[i]===u[i];)i++;return i?s(a[i],u[i]):a[i]===q?-1:u[i]===q?1:0},M):M},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==M&&k(t),n=n.replace(lt,"='$1']"),b.matchesSelector&&N&&!B[n+" "]&&(!j||!j.test(n))&&(!P||!P.test(n)))try{var i=F.call(t,n);if(i||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,M,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==M&&k(t),H(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==M&&k(t);var n=T.attrHandle[e.toLowerCase()],i=n&&Y.call(T.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==i?i:b.attributes||!N?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(D=!b.detectDuplicates,I=!b.sortStable&&t.slice(0),t.sort(V),D){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return I=null,t},_=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=_(e);return n},T=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,p,f,d,v=o!==s?"nextSibling":"previousSibling",g=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!u&&!a,x=!1;if(g){if(o){for(;v;){for(p=e;p=p[v];)if(a?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;d=v="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?g.firstChild:g.lastChild],s&&y){for(p=g,h=p[R]||(p[R]={}),l=h[p.uniqueID]||(h[p.uniqueID]={}),c=l[t]||[],f=c[0]===z&&c[1],x=f&&c[2],p=f&&g.childNodes[f];p=++f&&p&&p[v]||(x=f=0)||d.pop();)if(1===p.nodeType&&++x&&p===e){l[t]=[z,f,x];break}}else if(y&&(p=e,h=p[R]||(p[R]={}),l=h[p.uniqueID]||(h[p.uniqueID]={}),c=l[t]||[],f=c[0]===z&&c[1],x=f),x===!1)for(;(p=++f&&p&&p[v]||(x=f=0)||d.pop())&&((a?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++x||(y&&(h=p[R]||(p[R]={}),l=h[p.uniqueID]||(h[p.uniqueID]={}),l[t]=[z,x]),p!==e)););return x-=r,x===i||x%i===0&&x/i>=0}}},PSEUDO:function(t,n){var r,o=T.pseudos[t]||T.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[R]?o(n):o.length>1?(r=[t,t,"",n],T.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=E(t.replace(at,"$1"));return r[R]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(wt,bt),function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),lang:i(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,bt).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===A},focus:function(t){return t===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t;
}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},T.pseudos.nth=T.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})T.pseudos[w]=u(w);return h.prototype=T.filters=T.pseudos,T.setFilters=new h,S=e.tokenize=function(t,n){var i,r,o,s,a,u,c,l=$[t+" "];if(l)return n?0:l.slice(0);for(a=t,u=[],c=T.preFilter;a;){i&&!(r=ut.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),i=!1,(r=ct.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length));for(s in T.filter)!(r=ft[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):$(t,u).slice(0)},E=e.compile=function(t,e){var n,i=[],r=[],o=B[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=y(e[n]),o[R]?i.push(o):r.push(o);o=B(t,x(r,i)),o.selector=t}return o},L=e.select=function(t,e,n,i){var r,o,s,a,u,c="function"==typeof t&&t,h=!i&&S(t=c.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&b.getById&&9===e.nodeType&&N&&T.relative[o[1].type]){if(e=(T.find.ID(s.matches[0].replace(wt,bt),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!T.relative[a=s.type]);)if((u=T.find[a])&&(i=u(s.matches[0].replace(wt,bt),yt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&p(o),!t)return Q.apply(n,i),n;break}}return(c||E(t,h))(i,e,!N,n,!e||yt.test(t)&&l(e.parentNode)||e),n},b.sortStable=R.split("").sort(V).join("")===R,b.detectDuplicates=!!D,k(),b.sortDetached=r(function(t){return 1&t.compareDocumentPosition(M.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ot.find=lt,ot.expr=lt.selectors,ot.expr[":"]=ot.expr.pseudos,ot.uniqueSort=ot.unique=lt.uniqueSort,ot.text=lt.getText,ot.isXMLDoc=lt.isXML,ot.contains=lt.contains;var ht=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ot(t).is(n))break;i.push(t)}return i},pt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},ft=ot.expr.match.needsContext,dt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,vt=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ot.find.matchesSelector(i,t)?[i]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;n>e;e++)if(ot.contains(r[e],this))return!0}));for(e=0;n>e;e++)ot.find(t,r[e],i);return i=this.pushStack(n>1?ot.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ft.test(t)?ot(t):t||[],!1).length}});var gt,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,yt=ot.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||gt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:mt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:G,!0)),dt.test(i[1])&&ot.isPlainObject(e))for(i in e)ot.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=G.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=G,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?void 0!==n.ready?n.ready(t):t(ot):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))};yt.prototype=ot.fn,gt=ot(G);var xt=/^(?:parents|prev(?:Until|All))/,wt={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({has:function(t){var e=ot(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(ot.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=ft.test(t)||"string"!=typeof t?ot(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ot.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?Z.call(ot(t),this[0]):Z.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.uniqueSort(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ht(t,"parentNode")},parentsUntil:function(t,e,n){return ht(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return ht(t,"nextSibling")},prevAll:function(t){return ht(t,"previousSibling")},nextUntil:function(t,e,n){return ht(t,"nextSibling",n)},prevUntil:function(t,e,n){return ht(t,"previousSibling",n)},siblings:function(t){return pt((t.parentNode||{}).firstChild,t)},children:function(t){return pt(t.firstChild)},contents:function(t){return t.contentDocument||ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(n,i){var r=ot.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ot.filter(i,r)),this.length>1&&(wt[t]||ot.uniqueSort(r),xt.test(t)&&r.reverse()),this.pushStack(r)}});var bt=/\S+/g;ot.Callbacks=function(t){t="string"==typeof t?o(t):ot.extend({},t);var e,n,i,r,s=[],a=[],u=-1,c=function(){for(r=t.once,i=e=!0;a.length;u=-1)for(n=a.shift();++u<s.length;)s[u].apply(n[0],n[1])===!1&&t.stopOnFalse&&(u=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},l={add:function(){return s&&(n&&!e&&(u=s.length-1,a.push(n)),function i(e){ot.each(e,function(e,n){ot.isFunction(n)?t.unique&&l.has(n)||s.push(n):n&&n.length&&"string"!==ot.type(n)&&i(n)})}(arguments),n&&!e&&c()),this},remove:function(){return ot.each(arguments,function(t,e){for(var n;(n=ot.inArray(e,s,n))>-1;)s.splice(n,1),u>=n&&u--}),this},has:function(t){return t?ot.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=a=[],n||(s=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(n){ot.each(e,function(e,o){var s=ot.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,i):i}},r={};return i.pipe=i.then,ot.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=J.call(arguments),s=o.length,a=1!==s||t&&ot.isFunction(t.promise)?s:0,u=1===a?t:ot.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?J.call(arguments):r,i===e?u.notifyWith(n,i):--a||u.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&ot.isFunction(o[r].promise)?o[r].promise().progress(c(r,n,e)).done(c(r,i,o)).fail(u.reject):--a;return a||u.resolveWith(i,o),u.promise()}});var Tt;ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){(t===!0?--ot.readyWait:ot.isReady)||(ot.isReady=!0,t!==!0&&--ot.readyWait>0||(Tt.resolveWith(G,[ot]),ot.fn.triggerHandler&&(ot(G).triggerHandler("ready"),ot(G).off("ready"))))}}),ot.ready.promise=function(e){return Tt||(Tt=ot.Deferred(),"complete"===G.readyState||"loading"!==G.readyState&&!G.documentElement.doScroll?t.setTimeout(ot.ready):(G.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s))),Tt.promise(e)},ot.ready.promise();var _t=function(t,e,n,i,r,o,s){var a=0,u=t.length,c=null==n;if("object"===ot.type(n)){r=!0;for(a in n)_t(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,ot.isFunction(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(ot(t),n)})),e))for(;u>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):u?e(t[0],n):o},Ot=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};a.uid=1,a.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!Ot(t))return{};var e=t[this.expando];return e||(e={},Ot(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,ot.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{ot.isArray(e)?i=e.concat(e.map(ot.camelCase)):(r=ot.camelCase(e),e in o?i=[e,r]:(i=r,i=i in o?[i]:i.match(bt)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===e||ot.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ot.isEmptyObject(e)}};var St=new a,Et=new a,Lt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ct=/[A-Z]/g;ot.extend({hasData:function(t){return Et.hasData(t)||St.hasData(t)},data:function(t,e,n){return Et.access(t,e,n)},removeData:function(t,e){Et.remove(t,e)},_data:function(t,e,n){return St.access(t,e,n)},_removeData:function(t,e){St.remove(t,e)}}),ot.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Et.get(o),1===o.nodeType&&!St.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ot.camelCase(i.slice(5)),u(o,i,r[i])));St.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Et.set(this,t)}):_t(this,function(e){var n,i;if(o&&void 0===e){if(n=Et.get(o,t)||Et.get(o,t.replace(Ct,"-$&").toLowerCase()),void 0!==n)return n;if(i=ot.camelCase(t),n=Et.get(o,i),void 0!==n)return n;if(n=u(o,i,void 0),void 0!==n)return n}else i=ot.camelCase(t),this.each(function(){var n=Et.get(this,i);Et.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&Et.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Et.remove(this,t)})}}),ot.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=St.get(t,e),n&&(!i||ot.isArray(n)?i=St.access(t,e,ot.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ot.queue(t,e),i=n.length,r=n.shift(),o=ot._queueHooks(t,e),s=function(){ot.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return St.get(t,n)||St.access(t,n,{empty:ot.Callbacks("once memory").add(function(){St.remove(t,[e+"queue",n])})})}}),ot.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ot.queue(this[0],t):void 0===e?this:this.each(function(){var n=ot.queue(this,t,e);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ot.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=St.get(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var It=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=new RegExp("^(?:([+-])=|)("+It+")([a-z%]*)$","i"),kt=["Top","Right","Bottom","Left"],Mt=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},At=/^(?:checkbox|radio)$/i,Nt=/<([\w:-]+)/,Pt=/^$|\/(?:java|ecma)script/i,jt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};jt.optgroup=jt.option,jt.tbody=jt.tfoot=jt.colgroup=jt.caption=jt.thead,jt.th=jt.td;var Ft=/<|&#?\w+;/;!function(){var t=G.createDocumentFragment(),e=t.appendChild(G.createElement("div")),n=G.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),it.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ht=/^key/,Rt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,qt=/^([^.]*)(?:\.(.+)|)/;ot.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,c,l,h,p,f,d,v,g=St.get(t);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=ot.guid++),(u=g.events)||(u=g.events={}),(s=g.handle)||(s=g.handle=function(e){return"undefined"!=typeof ot&&ot.event.triggered!==e.type?ot.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(bt)||[""],c=e.length;c--;)a=qt.exec(e[c])||[],f=v=a[1],d=(a[2]||"").split(".").sort(),f&&(h=ot.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=ot.event.special[f]||{},l=ot.extend({type:f,origType:v,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ot.expr.match.needsContext.test(r),namespace:d.join(".")},o),(p=u[f])||(p=u[f]=[],p.delegateCount=0,h.setup&&h.setup.call(t,i,d,s)!==!1||t.addEventListener&&t.addEventListener(f,s)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,l):p.push(l),ot.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,c,l,h,p,f,d,v,g=St.hasData(t)&&St.get(t);if(g&&(u=g.events)){for(e=(e||"").match(bt)||[""],c=e.length;c--;)if(a=qt.exec(e[c])||[],f=v=a[1],d=(a[2]||"").split(".").sort(),f){for(h=ot.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,p=u[f]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)l=p[o],!r&&v!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,h.remove&&h.remove.call(t,l));s&&!p.length&&(h.teardown&&h.teardown.call(t,d,g.handle)!==!1||ot.removeEvent(t,f,g.handle),delete u[f])}else for(f in u)ot.event.remove(t,f+e[c],n,i,!0);ot.isEmptyObject(u)&&St.remove(t,"handle events")}},dispatch:function(t){t=ot.event.fix(t);var e,n,i,r,o,s=[],a=J.call(arguments),u=(St.get(this,"events")||{})[t.type]||[],c=ot.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(s=ot.event.handlers.call(this,t,u),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,i=((ot.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(i=[],n=0;a>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?ot(r,this).index(u)>-1:ot.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&s.push({elem:u,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||G,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[ot.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Rt.test(r)?this.mouseHooks:Ht.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ot.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=G),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==v()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===v()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ot.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ot.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ot.Event=function(t,e){return this instanceof ot.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?f:d):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(t,e)},ot.Event.prototype={constructor:ot.Event,isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||ot.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ot.fn.extend({on:function(t,e,n,i){return g(this,t,e,n,i)},one:function(t,e,n,i){return g(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ot(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=d),this.each(function(){ot.event.remove(this,t,n,e)})}});var zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ut=/<script|<style|<link/i,Wt=/checked\s*(?:[^=]|=\s*.checked.)/i,$t=/^true\/(.*)/,Bt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ot.extend({htmlPrefilter:function(t){return t.replace(zt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),u=ot.contains(t.ownerDocument,t);if(!(it.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(s=l(a),o=l(t),i=0,r=o.length;r>i;i++)b(o[i],s[i]);if(e)if(n)for(o=o||l(t),s=s||l(a),i=0,r=o.length;r>i;i++)w(o[i],s[i]);else w(t,a);return s=l(a,"script"),s.length>0&&h(s,!u&&l(t,"script")),a},cleanData:function(t){for(var e,n,i,r=ot.event.special,o=0;void 0!==(n=t[o]);o++)if(Ot(n)){if(e=n[St.expando]){if(e.events)for(i in e.events)r[i]?ot.event.remove(n,i):ot.removeEvent(n,i,e.handle);n[St.expando]=void 0}n[Et.expando]&&(n[Et.expando]=void 0)}}}),ot.fn.extend({domManip:T,detach:function(t){return _(this,t,!0)},remove:function(t){return _(this,t)},text:function(t){return _t(this,function(t){return void 0===t?ot.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=m(this,t);e.appendChild(t)}})},prepend:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=m(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ot.cleanData(l(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return _t(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ut.test(t)&&!jt[(Nt.exec(t)||["",""])[1].toLowerCase()]){t=ot.htmlPrefilter(t);try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(ot.cleanData(l(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return T(this,arguments,function(e){var n=this.parentNode;ot.inArray(this,t)<0&&(ot.cleanData(l(this)),n&&n.replaceChild(e,this))},t)}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var n,i=[],r=ot(t),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),ot(r[s])[e](n),Q.apply(i,n.get());return this.pushStack(i)}});var Vt,Xt={HTML:"block",BODY:"block"},Yt=/^margin/,Gt=new RegExp("^("+It+")(?!px)[a-z%]+$","i"),Jt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Kt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},Qt=G.documentElement;!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Qt.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,Qt.removeChild(s)}var n,i,r,o,s=G.createElement("div"),a=G.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ot.extend(it,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},pixelMarginRight:function(){return null==i&&e(),r},reliableMarginLeft:function(){return null==i&&e(),o},reliableMarginRight:function(){var e,n=a.appendChild(G.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Qt.appendChild(s),e=!parseFloat(t.getComputedStyle(n).marginRight),Qt.removeChild(s),a.removeChild(n),e}}))}();var Zt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ne=["Webkit","O","Moz","ms"],ie=G.createElement("div").style;ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=E(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ot.camelCase(e),u=t.style;return e=ot.cssProps[a]||(ot.cssProps[a]=C(a)||a),s=ot.cssHooks[e]||ot.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e]:(o=typeof n,"string"===o&&(r=Dt.exec(n))&&r[1]&&(n=c(t,e,r),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(ot.cssNumber[a]?"":"px")),it.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u[e]=n))))}},css:function(t,e,n,i){var r,o,s,a=ot.camelCase(e);return e=ot.cssProps[a]||(ot.cssProps[a]=C(a)||a),s=ot.cssHooks[e]||ot.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=E(t,e,i)),"normal"===r&&e in ee&&(r=ee[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,n,i){return n?Zt.test(ot.css(t,"display"))&&0===t.offsetWidth?Kt(t,te,function(){return k(t,e,i)}):k(t,e,i):void 0},set:function(t,n,i){var r,o=i&&Jt(t),s=i&&D(t,e,i,"border-box"===ot.css(t,"boxSizing",!1,o),o);return s&&(r=Dt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=ot.css(t,e)),I(t,n,s)}}}),ot.cssHooks.marginLeft=L(it.reliableMarginLeft,function(t,e){return e?(parseFloat(E(t,"marginLeft"))||t.getBoundingClientRect().left-Kt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),ot.cssHooks.marginRight=L(it.reliableMarginRight,function(t,e){return e?Kt(t,{display:"inline-block"},E,[t,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+kt[i]+e]=o[i]||o[i-2]||o[0];return r}},Yt.test(t)||(ot.cssHooks[t+e].set=I)}),ot.fn.extend({css:function(t,e){return _t(this,function(t,e,n){var i,r,o={},s=0;if(ot.isArray(e)){for(i=Jt(t),r=e.length;r>s;s++)o[e[s]]=ot.css(t,e[s],!1,i);return o}return void 0!==n?ot.style(t,e,n):ot.css(t,e)},t,e,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Mt(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=A,A.prototype={constructor:A,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ot.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ot.cssNumber[n]?"":"px")},cur:function(){var t=A.propHooks[this.prop];return t&&t.get?t.get(this):A.propHooks._default.get(this)},run:function(t){var e,n=A.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ot.cssProps[t.prop]]&&!ot.cssHooks[t.prop]?t.elem[t.prop]=t.now:ot.style(t.elem,t.prop,t.now+t.unit)}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ot.fx=A.prototype.init,ot.fx.step={};var re,oe,se=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;ot.Animation=ot.extend(R,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return c(n.elem,t,Dt.exec(e),n),n}]},tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.match(bt);for(var n,i=0,r=t.length;r>i;i++)n=t[i],R.tweeners[n]=R.tweeners[n]||[],R.tweeners[n].unshift(e)},prefilters:[F],prefilter:function(t,e){e?R.prefilters.unshift(t):R.prefilters.push(t)}}),ot.speed=function(t,e,n){var i=t&&"object"==typeof t?ot.extend({},t):{complete:n||!n&&e||ot.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ot.isFunction(e)&&e};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Mt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ot.isEmptyObject(t),o=ot.speed(e,n,i),s=function(){var e=R(this,ot.extend({},t),o);(r||St.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ot.timers,s=St.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ae.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||ot.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=St.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ot.timers,s=i?i.length:0;for(n.finish=!0,ot.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(t,e){var n=ot.fn[e];ot.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(P(e,!0),t,i,r)}}),ot.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ot.timers=[],ot.fx.tick=function(){var t,e=0,n=ot.timers;for(re=ot.now();e<n.length;e++)t=n[e],
t()||n[e]!==t||n.splice(e--,1);n.length||ot.fx.stop(),re=void 0},ot.fx.timer=function(t){ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){oe||(oe=t.setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){t.clearInterval(oe),oe=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,n){return e=ot.fx?ot.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=G.createElement("input"),e=G.createElement("select"),n=e.appendChild(G.createElement("option"));t.type="checkbox",it.checkOn=""!==t.value,it.optSelected=n.selected,e.disabled=!0,it.optDisabled=!n.disabled,t=G.createElement("input"),t.value="t",t.type="radio",it.radioValue="t"===t.value}();var ue,ce=ot.expr.attrHandle;ot.fn.extend({attr:function(t,e){return _t(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ot.prop(t,e,n):(1===o&&ot.isXMLDoc(t)||(e=e.toLowerCase(),r=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?ue:void 0)),void 0!==n?null===n?void ot.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=ot.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!it.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(bt);if(o&&1===t.nodeType)for(;n=o[r++];)i=ot.propFix[n]||n,ot.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),ue={set:function(t,e,n){return e===!1?ot.removeAttr(t,n):t.setAttribute(n,n),n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ce[e]||ot.find.attr;ce[e]=function(t,e,i){var r,o;return i||(o=ce[e],ce[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,ce[e]=o),r}});var le=/^(?:input|select|textarea|button)$/i,he=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return _t(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ot.propFix[t]||t]})}}),ot.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ot.isXMLDoc(t)||(e=ot.propFix[e]||e,r=ot.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):le.test(t.nodeName)||he.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),it.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this});var pe=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,q(this)))});if("string"==typeof t&&t)for(e=t.match(bt)||[];n=this[u++];)if(r=q(n),i=1===n.nodeType&&(" "+r+" ").replace(pe," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=ot.trim(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(bt)||[];n=this[u++];)if(r=q(n),i=1===n.nodeType&&(" "+r+" ").replace(pe," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=ot.trim(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ot.isFunction(t)?this.each(function(n){ot(this).toggleClass(t.call(this,n,q(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=ot(this),o=t.match(bt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=q(this),e&&St.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":St.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+q(n)+" ").replace(pe," ").indexOf(e)>-1)return!0;return!1}});var fe=/\r/g,de=/[\x20\t\r\n\f]+/g;ot.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=ot.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,ot(this).val()):t,null==r?r="":"number"==typeof r?r+="":ot.isArray(r)&&(r=ot.map(r,function(t){return null==t?"":t+""})),e=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=ot.valHooks[r.type]||ot.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(fe,""):null==n?"":n)):void 0}}),ot.extend({valHooks:{option:{get:function(t){var e=ot.find.attr(t,"value");return null!=e?e:ot.trim(ot.text(t)).replace(de," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,u=0>r?a:o?r:0;a>u;u++)if(n=i[u],(n.selected||u===r)&&(it.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ot.nodeName(n.parentNode,"optgroup"))){if(e=ot(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=ot.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=ot.inArray(ot.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){return ot.isArray(e)?t.checked=ot.inArray(ot(t).val(),e)>-1:void 0}},it.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ve=/^(?:focusinfocus|focusoutblur)$/;ot.extend(ot.event,{trigger:function(e,n,i,r){var o,s,a,u,c,l,h,p=[i||G],f=nt.call(e,"type")?e.type:e,d=nt.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||G,3!==i.nodeType&&8!==i.nodeType&&!ve.test(f+ot.event.triggered)&&(f.indexOf(".")>-1&&(d=f.split("."),f=d.shift(),d.sort()),c=f.indexOf(":")<0&&"on"+f,e=e[ot.expando]?e:new ot.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ot.makeArray(n,[e]),h=ot.event.special[f]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!ot.isWindow(i)){for(u=h.delegateType||f,ve.test(u+f)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(i.ownerDocument||G)&&p.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)e.type=o>1?u:h.bindType||f,l=(St.get(s,"events")||{})[e.type]&&St.get(s,"handle"),l&&l.apply(s,n),l=c&&s[c],l&&l.apply&&Ot(s)&&(e.result=l.apply(s,n),e.result===!1&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||h._default&&h._default.apply(p.pop(),n)!==!1||!Ot(i)||c&&ot.isFunction(i[f])&&!ot.isWindow(i)&&(a=i[c],a&&(i[c]=null),ot.event.triggered=f,i[f](),ot.event.triggered=void 0,a&&(i[c]=a)),e.result}},simulate:function(t,e,n){var i=ot.extend(new ot.Event,n,{type:t,isSimulated:!0});ot.event.trigger(i,null,e)}}),ot.fn.extend({trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ot.event.trigger(t,e,n,!0):void 0}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),it.focusin="onfocusin"in t,it.focusin||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ot.event.simulate(e,t.target,ot.event.fix(t))};ot.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=St.access(i,e);r||i.addEventListener(t,n,!0),St.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=St.access(i,e)-1;r?St.access(i,e,r):(i.removeEventListener(t,n,!0),St.remove(i,e))}}});var ge=t.location,me=ot.now(),ye=/\?/;ot.parseJSON=function(t){return JSON.parse(t+"")},ot.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+e),n};var xe=/#.*$/,we=/([?&])_=[^&]*/,be=/^(.*?):[ \t]*([^\r\n]*)$/gm,Te=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,_e=/^(?:GET|HEAD)$/,Oe=/^\/\//,Se={},Ee={},Le="*/".concat("*"),Ce=G.createElement("a");Ce.href=ge.href,ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ge.href,type:"GET",isLocal:Te.test(ge.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Le,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?W(W(t,ot.ajaxSettings),e):W(ot.ajaxSettings,t)},ajaxPrefilter:z(Se),ajaxTransport:z(Ee),ajax:function(e,n){function i(e,n,i,a){var c,h,y,x,b,_=n;2!==w&&(w=2,u&&t.clearTimeout(u),r=void 0,s=a||"",T.readyState=e>0?4:0,c=e>=200&&300>e||304===e,i&&(x=$(p,T,i)),x=B(p,x,T,c),c?(p.ifModified&&(b=T.getResponseHeader("Last-Modified"),b&&(ot.lastModified[o]=b),b=T.getResponseHeader("etag"),b&&(ot.etag[o]=b)),204===e||"HEAD"===p.type?_="nocontent":304===e?_="notmodified":(_=x.state,h=x.data,y=x.error,c=!y)):(y=_,!e&&_||(_="error",0>e&&(e=0))),T.status=e,T.statusText=(n||_)+"",c?v.resolveWith(f,[h,_,T]):v.rejectWith(f,[T,_,y]),T.statusCode(m),m=void 0,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[T,p,c?h:y]),g.fireWith(f,[T,_]),l&&(d.trigger("ajaxComplete",[T,p]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,u,c,l,h,p=ot.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?ot(f):ot.event,v=ot.Deferred(),g=ot.Callbacks("once memory"),m=p.statusCode||{},y={},x={},w=0,b="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!a)for(a={};e=be.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=x[n]=x[n]||t,y[t]=e),this},overrideMimeType:function(t){return w||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)m[e]=[m[e],t[e]];else T.always(t[T.status]);return this},abort:function(t){var e=t||b;return r&&r.abort(e),i(0,e),this}};if(v.promise(T).complete=g.add,T.success=T.done,T.error=T.fail,p.url=((e||p.url||ge.href)+"").replace(xe,"").replace(Oe,ge.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=ot.trim(p.dataType||"*").toLowerCase().match(bt)||[""],null==p.crossDomain){c=G.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Ce.protocol+"//"+Ce.host!=c.protocol+"//"+c.host}catch(_){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ot.param(p.data,p.traditional)),U(Se,p,n,T),2===w)return T;l=ot.event&&p.global,l&&0===ot.active++&&ot.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!_e.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(ye.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=we.test(o)?o.replace(we,"$1_="+me++):o+(ye.test(o)?"&":"?")+"_="+me++)),p.ifModified&&(ot.lastModified[o]&&T.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&T.setRequestHeader("If-None-Match",ot.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Le+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)T.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(f,T,p)===!1||2===w))return T.abort();b="abort";for(h in{success:1,error:1,complete:1})T[h](p[h]);if(r=U(Ee,p,n,T)){if(T.readyState=1,l&&d.trigger("ajaxSend",[T,p]),2===w)return T;p.async&&p.timeout>0&&(u=t.setTimeout(function(){T.abort("timeout")},p.timeout));try{w=1,r.send(y,i)}catch(_){if(!(2>w))throw _;i(-1,_)}}else i(-1,"No Transport");return T},getJSON:function(t,e,n){return ot.get(t,e,n,"json")},getScript:function(t,e){return ot.get(t,void 0,e,"script")}}),ot.each(["get","post"],function(t,e){ot[e]=function(t,n,i,r){return ot.isFunction(n)&&(r=r||i,i=n,n=void 0),ot.ajax(ot.extend({url:t,type:e,dataType:r,data:n,success:i},ot.isPlainObject(t)&&t))}}),ot._evalUrl=function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(t){var e;return ot.isFunction(t)?this.each(function(e){ot(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ot(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return ot.isFunction(t)?this.each(function(e){ot(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ot(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(n){ot(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return!ot.expr.filters.visible(t)},ot.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Ie=/%20/g,De=/\[\]$/,ke=/\r?\n/g,Me=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var n,i=[],r=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){r(this.name,this.value)});else for(n in t)V(n,t[n],e,r);return i.join("&").replace(Ie,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&Ae.test(this.nodeName)&&!Me.test(t)&&(this.checked||!At.test(t))}).map(function(t,e){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(t){return{name:e.name,value:t.replace(ke,"\r\n")}}):{name:e.name,value:n.replace(ke,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Ne={0:200,1223:204},Pe=ot.ajaxSettings.xhr();it.cors=!!Pe&&"withCredentials"in Pe,it.ajax=Pe=!!Pe,ot.ajaxTransport(function(e){var n,i;return it.cors||Pe&&!e.crossDomain?{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ne[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}:void 0}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=ot("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),G.head.appendChild(e[0])},abort:function(){n&&n()}}}});var je=[],Fe=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=je.pop()||ot.expando+"_"+me++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&(Fe.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fe.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=ot.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Fe,"$1"+r):e.jsonp!==!1&&(e.url+=(ye.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ot.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?ot(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,je.push(r)),s&&ot.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),ot.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||G;var i=dt.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=p([t],e,r),r&&r.length&&ot(r).remove(),ot.merge([],i.childNodes))};var He=ot.fn.load;ot.fn.load=function(t,e,n){if("string"!=typeof t&&He)return He.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ot.trim(t.slice(a)),t=t.slice(0,a)),ot.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ot.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?ot("<div>").append(ot.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length},ot.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,c,l=ot.css(t,"position"),h=ot(t),p={};"static"===l&&(t.style.position="relative"),a=h.offset(),o=ot.css(t,"top"),u=ot.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),ot.isFunction(e)&&(e=e.call(t,n,ot.extend({},a))),null!=e.top&&(p.top=e.top-a.top+s),null!=e.left&&(p.left=e.left-a.left+r),"using"in e?e.using.call(t,p):h.css(p)}},ot.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(e=o.documentElement,ot.contains(e,i)?(r=i.getBoundingClientRect(),n=X(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===ot.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(i=t.offset()),i.top+=ot.css(t[0],"borderTopWidth",!0),i.left+=ot.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ot.css(n,"marginTop",!0),left:e.left-i.left-ot.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||Qt})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ot.fn[t]=function(i){return _t(this,function(t,i,r){var o=X(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),ot.each(["top","left"],function(t,e){ot.cssHooks[e]=L(it.pixelPosition,function(t,n){return n?(n=E(t,e),Gt.test(n)?ot(t).position()[e]+"px":n):void 0})}),ot.each({Height:"height",Width:"width"},function(t,e){ot.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ot.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return _t(this,function(e,n,i){var r;return ot.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?ot.css(e,n,s):ot.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),ot.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var Re=t.jQuery,qe=t.$;return ot.noConflict=function(e){return t.$===ot&&(t.$=qe),e&&t.jQuery===ot&&(t.jQuery=Re),ot},e||(t.jQuery=t.$=ot),ot}),function(){function t(t){function e(e,n,i,r,o,s){for(;o>=0&&s>o;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=x(i,o,4);var s=!E(n)&&y.keys(n),a=(s||n).length,u=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[u]:u],u+=t),e(n,i,r,s,u,a)}}function e(t){return function(e,n,i){n=w(n,i);for(var r=S(e),o=t>0?0:r-1;o>=0&&r>o;o+=t)if(n(e[o],o,e))return o;return-1}}function n(t,e,n){return function(i,r,o){var s=0,a=S(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(l.call(i,s,a),y.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&a>o;o+=t)if(i[o]===r)return o;return-1}}function i(t,e){var n=k.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||a,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)o=k[n],o in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)}var r=this,o=r._,s=Array.prototype,a=Object.prototype,u=Function.prototype,c=s.push,l=s.slice,h=a.toString,p=a.hasOwnProperty,f=Array.isArray,d=Object.keys,v=u.bind,g=Object.create,m=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var x=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?y.identity:y.isFunction(t)?x(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return w(t,e,1/0)};var b=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],s=t(o),a=s.length,u=0;a>u;u++){var c=s[u];e&&void 0!==n[c]||(n[c]=o[c])}return n}},T=function(t){if(!y.isObject(t))return{};if(g)return g(t);m.prototype=t;var e=new m;return m.prototype=null,e},_=function(t){return function(e){return null==e?void 0:e[t]}},O=Math.pow(2,53)-1,S=_("length"),E=function(t){var e=S(t);return"number"==typeof e&&e>=0&&O>=e};y.each=y.forEach=function(t,e,n){e=x(e,n);var i,r;if(E(t))for(i=0,r=t.length;r>i;i++)e(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;r>i;i++)e(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,e,n){e=w(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=Array(r),s=0;r>s;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;return i=E(t)?y.findIndex(t,e,n):y.findKey(t,e,n),void 0!==i&&i!==-1?t[i]:void 0},y.filter=y.select=function(t,e,n){var i=[];return e=w(e,n),y.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},y.reject=function(t,e,n){return y.filter(t,y.negate(w(e)),n)},y.every=y.all=function(t,e,n){e=w(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},y.some=y.any=function(t,e,n){e=w(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return E(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=l.call(arguments,2),i=y.isFunction(e);return y.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var i,r,o=-1/0,s=-1/0;if(null==e&&null!=t){t=E(t)?t:y.values(t);for(var a=0,u=t.length;u>a;a++)i=t[a],i>o&&(o=i)}else e=w(e,n),y.each(t,function(t,n,i){r=e(t,n,i),(r>s||r===-1/0&&o===-1/0)&&(o=t,s=r)});return o},y.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t){t=E(t)?t:y.values(t);for(var a=0,u=t.length;u>a;a++)i=t[a],o>i&&(o=i)}else e=w(e,n),y.each(t,function(t,n,i){r=e(t,n,i),(s>r||1/0===r&&1/0===o)&&(o=t,s=r)});return o},y.shuffle=function(t){for(var e,n=E(t)?t:y.values(t),i=n.length,r=Array(i),o=0;i>o;o++)e=y.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},y.sample=function(t,e,n){return null==e||n?(E(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=w(e,n),y.pluck(y.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var L=function(t){return function(e,n,i){var r={};return n=w(n,i),y.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};y.groupBy=L(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=L(function(t,e,n){t[n]=e}),y.countBy=L(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?l.call(t):E(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:E(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=w(e,n);var i=[],r=[];return y.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},y.first=y.head=y.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var C=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=S(t);a>s;s++){var u=t[s];if(E(u)&&(y.isArray(u)||y.isArguments(u))){e||(u=C(u,e,n));var c=0,l=u.length;for(r.length+=l;l>c;)r[o++]=u[c++]}else n||(r[o++]=u)}return r};y.flatten=function(t,e){return C(t,e,!1)},y.without=function(t){return y.difference(t,l.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=w(n,i));for(var r=[],o=[],s=0,a=S(t);a>s;s++){var u=t[s],c=n?n(u,s,t):u;e?(s&&o===c||r.push(u),o=c):n?y.contains(o,c)||(o.push(c),r.push(u)):y.contains(r,u)||r.push(u)}return r},y.union=function(){return y.uniq(C(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=S(t);r>i;i++){var o=t[i];if(!y.contains(e,o)){for(var s=1;n>s&&y.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},y.difference=function(t){var e=C(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,S).length||0,n=Array(e),i=0;e>i;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=S(t);r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){n=w(n,i,1);for(var r=n(e),o=0,s=S(t);s>o;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;i>o;o++,t+=n)r[o]=t;return r};var I=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=T(t.prototype),s=t.apply(o,r);return y.isObject(s)?s:o};y.bind=function(t,e){if(v&&t.bind===v)return v.apply(t,l.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2),i=function(){return I(t,i,e,this,n.concat(l.call(arguments)))};return i},y.partial=function(t){var e=l.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;r>s;s++)o[s]=e[s]===y?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return I(t,n,this,this,o)};return n},y.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return y.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},y.delay=function(t,e){var n=l.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:y.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var c=y.now();a||n.leading!==!1||(a=c);var l=e-(c-a);return i=this,r=arguments,0>=l||l>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(u,l)),o}},y.debounce=function(t,e,n){var i,r,o,s,a,u=function(){var c=y.now()-s;e>c&&c>=0?i=setTimeout(u,e-c):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=y.now();var c=n&&!i;return i||(i=setTimeout(u,e)),c&&(a=t.apply(o,r),o=r=null),a}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},y.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},y.once=y.partial(y.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),k=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(d)return d(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return D&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return D&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=w(e,n);for(var i,r=y.keys(t),o=r.length,s={},a=0;o>a;a++)i=r[a],
s[i]=e(t[i],i,t);return s},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=b(y.allKeys),y.extendOwn=y.assign=b(y.keys),y.findKey=function(t,e,n){e=w(e,n);for(var i,r=y.keys(t),o=0,s=r.length;s>o;o++)if(i=r[o],e(t[i],i,t))return i},y.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;y.isFunction(e)?(r=y.allKeys(s),i=x(e,n)):(r=C(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,u=r.length;u>a;a++){var c=r[a],l=s[c];i(l,c,s)&&(o[c]=l)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(C(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=b(y.allKeys,!0),y.create=function(t,e){var n=T(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;i>o;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var M=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!M(t[u],e[u],n,i))return!1}else{var c,l=y.keys(t);if(u=l.length,y.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!y.has(e,c)||!M(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return M(t,e)},y.isEmpty=function(t){return null==t||(E(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=f||function(t){return"[object Array]"===h.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&p.call(t,e)},y.noConflict=function(){return r._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=_,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=x(e,n,1);for(var r=0;t>r;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=y.invert(A),P=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};y.escape=P(A),y.unescape=P(N),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var j=0;y.uniqueId=function(t){var e=++j+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\u2028|\u2029/g,q=function(t){return"\\"+H[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var i=RegExp([(e.escape||F).source,(e.interpolate||F).source,(e.evaluate||F).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace(R,q),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(a){throw a.source=o,a}var u=function(t){return s.call(this,t,y)},c=e.variable||"obj";return u.source="function("+c+"){\n"+o+"}",u},y.chain=function(t){var e=y(t);return e._chain=!0,e};var z=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),z(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],z(this,n)}}),y.each(["concat","join","slice"],function(t){var e=s[t];y.prototype[t]=function(){return z(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(t){var e=t({});t.subscribe=function(){e.on.apply(e,arguments)},t.unsubscribe=function(){e.off.apply(e,arguments)},t.publish=function(){e.trigger.apply(e,arguments)}}(jQuery),!function(t,e,n,i){function r(t,e,n){return setTimeout(c(t,n),e)}function o(t,e,n){return!!Array.isArray(t)&&(s(t,n[e],n),!0)}function s(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function a(e,n,i){var r="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=t.console&&(t.console.warn||t.console.log);return o&&o.call(t.console,r,i),e.apply(this,arguments)}}function u(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&ht(i,n)}function c(t,e){return function(){return t.apply(e,arguments)}}function l(t,e){return typeof t==dt?t.apply(e?e[0]||i:i,e):t}function h(t,e){return t===i?e:t}function p(t,e,n){s(g(e),function(e){t.addEventListener(e,n,!1)})}function f(t,e,n){s(g(e),function(e){t.removeEventListener(e,n,!1)})}function d(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function v(t,e){return t.indexOf(e)>-1}function g(t){return t.trim().split(/\s+/g)}function m(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function y(t){return Array.prototype.slice.call(t,0)}function x(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];m(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function w(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),s=0;s<pt.length;){if(n=pt[s],r=n?n+o:e,r in t)return r;s++}return i}function b(){return wt++}function T(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}function _(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){l(t.options.enable,[t])&&n.handler(e)},this.init()}function O(t){var e,n=t.options.inputClass;return new(e=n?n:_t?H:Ot?z:Tt?W:F)(t,S)}function S(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&Dt&&i-r===0,s=e&(Mt|At)&&i-r===0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,E(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function E(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=I(e)),r>1&&!n.firstMultiple?n.firstMultiple=I(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,u=e.center=D(i);e.timeStamp=mt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=N(a,u),e.distance=A(a,u),L(n,e),e.offsetDirection=M(e.deltaX,e.deltaY);var c=k(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=gt(c.x)>gt(c.y)?c.x:c.y,e.scale=s?j(s.pointers,i):1,e.rotation=s?P(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,C(n,e);var l=t.element;d(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function L(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Dt&&o.eventType!==Mt||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function C(t,e){var n,r,o,s,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=At&&(u>It||a.velocity===i)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,h=k(u,c,l);r=h.x,o=h.y,n=gt(h.x)>gt(h.y)?h.x:h.y,s=M(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,s=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=s}function I(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:vt(t.pointers[n].clientX),clientY:vt(t.pointers[n].clientY)},n++;return{timeStamp:mt(),pointers:e,center:D(e),deltaX:t.deltaX,deltaY:t.deltaY}}function D(t){var e=t.length;if(1===e)return{x:vt(t[0].clientX),y:vt(t[0].clientY)};for(var n=0,i=0,r=0;e>r;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:vt(n/e),y:vt(i/e)}}function k(t,e,n){return{x:e/t||0,y:n/t||0}}function M(t,e){return t===e?Nt:gt(t)>=gt(e)?0>t?Pt:jt:0>e?Ft:Ht}function A(t,e,n){n||(n=Ut);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function N(t,e,n){n||(n=Ut);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function P(t,e){return N(e[1],e[0],Wt)+N(t[1],t[0],Wt)}function j(t,e){return A(e[0],e[1],Wt)/A(t[0],t[1],Wt)}function F(){this.evEl=Bt,this.evWin=Vt,this.pressed=!1,_.apply(this,arguments)}function H(){this.evEl=Gt,this.evWin=Jt,_.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function R(){this.evTarget=Qt,this.evWin=Zt,this.started=!1,_.apply(this,arguments)}function q(t,e){var n=y(t.touches),i=y(t.changedTouches);return e&(Mt|At)&&(n=x(n.concat(i),"identifier",!0)),[n,i]}function z(){this.evTarget=ee,this.targetIds={},_.apply(this,arguments)}function U(t,e){var n=y(t.touches),i=this.targetIds;if(e&(Dt|kt)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=y(t.changedTouches),a=[],u=this.target;if(o=n.filter(function(t){return d(t.target,u)}),e===Dt)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(Mt|At)&&delete i[s[r].identifier],r++;return a.length?[x(o.concat(a),"identifier",!0),a]:void 0}function W(){_.apply(this,arguments);var t=c(this.handler,this);this.touch=new z(this.manager,t),this.mouse=new F(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function $(t,e){t&Dt?(this.primaryTouch=e.changedPointers[0].identifier,B.call(this,e)):t&(Mt|At)&&B.call(this,e)}function B(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches,r=function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)};setTimeout(r,ne)}}function V(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(ie>=o&&ie>=s)return!0}return!1}function X(t,e){this.manager=t,this.set(e)}function Y(t){if(v(t,ce))return ce;var e=v(t,le),n=v(t,he);return e&&n?ce:e||n?e?le:he:v(t,ue)?ue:ae}function G(){if(!oe)return!1;var e={},n=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=!n||t.CSS.supports("touch-action",i)}),e}function J(t){this.options=ht({},this.defaults,t||{}),this.id=b(),this.manager=null,this.options.enable=h(this.options.enable,!0),this.state=fe,this.simultaneous={},this.requireFail=[]}function K(t){return t&ye?"cancel":t&ge?"end":t&ve?"move":t&de?"start":""}function Q(t){return t==Ht?"down":t==Ft?"up":t==Pt?"left":t==jt?"right":""}function Z(t,e){var n=e.manager;return n?n.get(t):t}function tt(){J.apply(this,arguments)}function et(){tt.apply(this,arguments),this.pX=null,this.pY=null}function nt(){tt.apply(this,arguments)}function it(){J.apply(this,arguments),this._timer=null,this._input=null}function rt(){tt.apply(this,arguments)}function ot(){tt.apply(this,arguments)}function st(){J.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function at(t,e){return e=e||{},e.recognizers=h(e.recognizers,at.defaults.preset),new ut(t,e)}function ut(t,e){this.options=ht({},at.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=O(this),this.touchAction=new X(this,this.options.touchAction),ct(this,!0),s(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ct(t,e){var n=t.element;if(n.style){var i;s(t.options.cssProps,function(r,o){i=w(n.style,o),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}function lt(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var ht,pt=["","webkit","Moz","MS","ms","o"],ft=e.createElement("div"),dt="function",vt=Math.round,gt=Math.abs,mt=Date.now;ht="function"!=typeof Object.assign?function(t){if(t===i||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var yt=a(function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===i)&&(t[r[o]]=e[r[o]]),o++;return t},"extend","Use `assign`."),xt=a(function(t,e){return yt(t,e,!0)},"merge","Use `assign`."),wt=1,bt=/mobile|tablet|ip(ad|hone|od)|android/i,Tt="ontouchstart"in t,_t=w(t,"PointerEvent")!==i,Ot=Tt&&bt.test(navigator.userAgent),St="touch",Et="pen",Lt="mouse",Ct="kinect",It=25,Dt=1,kt=2,Mt=4,At=8,Nt=1,Pt=2,jt=4,Ft=8,Ht=16,Rt=Pt|jt,qt=Ft|Ht,zt=Rt|qt,Ut=["x","y"],Wt=["clientX","clientY"];_.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(T(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(T(this.element),this.evWin,this.domHandler)}};var $t={mousedown:Dt,mousemove:kt,mouseup:Mt},Bt="mousedown",Vt="mousemove mouseup";u(F,_,{handler:function(t){var e=$t[t.type];e&Dt&&0===t.button&&(this.pressed=!0),e&kt&&1!==t.which&&(e=Mt),this.pressed&&(e&Mt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Lt,srcEvent:t}))}});var Xt={pointerdown:Dt,pointermove:kt,pointerup:Mt,pointercancel:At,pointerout:At},Yt={2:St,3:Et,4:Lt,5:Ct},Gt="pointerdown",Jt="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Gt="MSPointerDown",Jt="MSPointerMove MSPointerUp MSPointerCancel"),u(H,_,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Xt[i],o=Yt[t.pointerType]||t.pointerType,s=o==St,a=m(e,t.pointerId,"pointerId");r&Dt&&(0===t.button||s)?0>a&&(e.push(t),a=e.length-1):r&(Mt|At)&&(n=!0),0>a||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var Kt={touchstart:Dt,touchmove:kt,touchend:Mt,touchcancel:At},Qt="touchstart",Zt="touchstart touchmove touchend touchcancel";u(R,_,{handler:function(t){var e=Kt[t.type];if(e===Dt&&(this.started=!0),this.started){var n=q.call(this,t,e);e&(Mt|At)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:St,srcEvent:t})}}});var te={touchstart:Dt,touchmove:kt,touchend:Mt,touchcancel:At},ee="touchstart touchmove touchend touchcancel";u(z,_,{handler:function(t){var e=te[t.type],n=U.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:St,srcEvent:t})}});var ne=2500,ie=25;u(W,_,{handler:function(t,e,n){var i=n.pointerType==St,r=n.pointerType==Lt;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)$.call(this,e,n);else if(r&&V.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var re=w(ft.style,"touchAction"),oe=re!==i,se="compute",ae="auto",ue="manipulation",ce="none",le="pan-x",he="pan-y",pe=G();X.prototype={set:function(t){t==se&&(t=this.compute()),oe&&this.manager.element.style&&pe[t]&&(this.manager.element.style[re]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return s(this.manager.recognizers,function(e){l(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Y(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=v(i,ce)&&!pe[ce],o=v(i,he)&&!pe[he],s=v(i,le)&&!pe[le];if(r){var a=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(a&&u&&c)return}return s&&o?void 0:r||o&&n&Rt||s&&n&qt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var fe=1,de=2,ve=4,ge=8,me=ge,ye=16,xe=32;J.prototype={defaults:{},set:function(t){return ht(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=Z(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=Z(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=Z(t,this),-1===m(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=Z(t,this);var e=m(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;ge>i&&e(n.options.event+K(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=ge&&e(n.options.event+K(i))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=xe)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(xe|fe)))return!1;t++}return!0},recognize:function(t){var e=ht({},t);return l(this.options.enable,[this,e])?(this.state&(me|ye|xe)&&(this.state=fe),this.state=this.process(e),void(this.state&(de|ve|ge|ye)&&this.tryEmit(e))):(this.reset(),void(this.state=xe))},process:function(t){},getTouchAction:function(){},reset:function(){}},u(tt,J,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(de|ve),r=this.attrTest(t);return i&&(n&At||!r)?e|ye:i||r?n&Mt?e|ge:e&de?e|ve:de:xe}}),u(et,tt,{defaults:{event:"pan",threshold:10,pointers:1,direction:zt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Rt&&e.push(he),t&qt&&e.push(le),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&Rt?(r=0===o?Nt:0>o?Pt:jt,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?Nt:0>s?Ft:Ht,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return tt.prototype.attrTest.call(this,t)&&(this.state&de||!(this.state&de)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Q(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),u(nt,tt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ce]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&de)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),u(it,J,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ae]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(Mt|At)&&!o)this.reset();else if(t.eventType&Dt)this.reset(),this._timer=r(function(){this.state=me,this.tryEmit()},e.time,this);else if(t.eventType&Mt)return me;return xe},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===me&&(t&&t.eventType&Mt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=mt(),this.manager.emit(this.options.event,this._input)))}}),u(rt,tt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ce]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&de)}}),u(ot,tt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Rt|qt,pointers:1},getTouchAction:function(){return et.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Rt|qt)?e=t.overallVelocity:n&Rt?e=t.overallVelocityX:n&qt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&gt(e)>this.options.velocity&&t.eventType&Mt},emit:function(t){var e=Q(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(st,J,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ue]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Dt&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!=Mt)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||A(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;var u=this.count%e.taps;if(0===u)return this.hasRequireFailures()?(this._timer=r(function(){this.state=me,this.tryEmit()},e.interval,this),de):me}return xe},failTimeout:function(){return this._timer=r(function(){this.state=xe},this.options.interval,this),xe},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==me&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),at.VERSION="2.0.8",at.defaults={domEvents:!1,touchAction:se,enable:!0,inputTarget:null,inputClass:null,preset:[[rt,{enable:!1}],[nt,{enable:!1},["rotate"]],[ot,{direction:Rt}],[et,{direction:Rt},["swipe"]],[st],[st,{event:"doubletap",taps:2},["tap"]],[it]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var we=1,be=2;ut.prototype={set:function(t){return ht(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?be:we},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&me)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],e.stopped===be||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(de|ve|ge)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof J)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=m(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==i&&e!==i){var n=this.handlers;return s(g(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==i){var n=this.handlers;return s(g(t),function(t){e?n[t]&&n[t].splice(m(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&lt(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&ct(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ht(at,{INPUT_START:Dt,INPUT_MOVE:kt,INPUT_END:Mt,INPUT_CANCEL:At,STATE_POSSIBLE:fe,STATE_BEGAN:de,STATE_CHANGED:ve,STATE_ENDED:ge,STATE_RECOGNIZED:me,STATE_CANCELLED:ye,STATE_FAILED:xe,DIRECTION_NONE:Nt,DIRECTION_LEFT:Pt,DIRECTION_RIGHT:jt,DIRECTION_UP:Ft,DIRECTION_DOWN:Ht,DIRECTION_HORIZONTAL:Rt,DIRECTION_VERTICAL:qt,DIRECTION_ALL:zt,Manager:ut,Input:_,TouchAction:X,TouchInput:z,MouseInput:F,PointerEventInput:H,TouchMouseInput:W,SingleTouchInput:R,Recognizer:J,AttrRecognizer:tt,Tap:st,Pan:et,Swipe:ot,Pinch:nt,Rotate:rt,Press:it,on:p,off:f,each:s,merge:xt,extend:yt,assign:ht,inherit:u,bindFn:c,prefixed:w});var Te="undefined"!=typeof t?t:"undefined"!=typeof self?self:{};Te.Hammer=at,"function"==typeof define&&define.amd?define(function(){return at}):"undefined"!=typeof module&&module.exports?module.exports=at:t[n]=at}(window,document,"Hammer"),function(t){"function"==typeof define&&define.amd?define(["jquery","hammerjs"],t):"object"==typeof exports?t(require("jquery"),require("hammerjs")):t(jQuery,Hammer)}(function(t,e){function n(n,i){var r=t(n);r.data("hammer")||r.data("hammer",new e(r[0],i))}t.fn.hammer=function(t){return this.each(function(){n(this,t)})},e.Manager.prototype.emit=function(e){return function(n,i){e.call(this,n,i),t(this.element).trigger({type:n,gesture:i})}}(e.Manager.prototype.emit)}),function(t,e){function n(n,i){function r(t){return ct.preferFlash&&it&&!ct.ignoreFlash&&ct.flash[t]!==e&&ct.flash[t]}function o(t){return function(e){var n=this._s;return n&&n._a?t.call(this,e):null}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=i||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20150601",this.altURL=this.movieURL=this.version=null,this.enabled=this.swfLoaded=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.didFlashBlock=this.muted=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var s,a,u,c,l,h,p,f,d,v,g,m,y,x,w,b,T,_,O,S,E,L,C,I,D,k,M,A,N,P,j,F,H,R,q,z,U,W,$,B,V,X,Y,G,J,K,Q,Z,tt,et,nt,it,rt,ot,st,at,ut,ct=this,lt=null,ht=null,pt=navigator.userAgent,ft=t.location.href.toString(),dt=document,vt=[],gt=!1,mt=!1,yt=!1,xt=!1,wt=!1,bt=null,Tt=null,_t=!1,Ot=!1,St=0,Et=null,Lt=[],Ct=null,It=Array.prototype.slice,Dt=!1,kt=0,Mt=pt.match(/(ipad|iphone|ipod)/i),At=pt.match(/android/i),Nt=pt.match(/msie/i),Pt=pt.match(/webkit/i),jt=pt.match(/safari/i)&&!pt.match(/chrome/i),Ft=pt.match(/opera/i),Ht=pt.match(/(mobile|pre\/|xoom)/i)||Mt||At,Rt=!ft.match(/usehtml5audio/i)&&!ft.match(/sm2\-ignorebadua/i)&&jt&&!pt.match(/silk/i)&&pt.match(/OS X 10_6_([3-7])/i),qt=dt.hasFocus!==e?dt.hasFocus():null,zt=jt&&(dt.hasFocus===e||!dt.hasFocus()),Ut=!zt,Wt=/(mp3|mp4|mpa|m4a|m4b)/i,$t=dt.location?dt.location.protocol.match(/http/i):null,Bt=$t?"":"http://",Vt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Xt="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),Yt=new RegExp("\\.("+Xt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!$t;var Gt;try{Gt=Audio!==e&&(Ft&&opera!==e&&10>opera.version()?new Audio(null):new Audio).canPlayType!==e}catch(Jt){Gt=!1}this.hasHTML5=Gt,this.setup=function(t){var n=!ct.url;return t!==e&&yt&&Ct&&ct.ok(),d(t),Dt||(Ht?ct.setupOptions.ignoreMobileRestrictions&&!ct.setupOptions.forceUseGlobalHTML5Audio||(Lt.push(O.globalHTML5),Dt=!0):ct.setupOptions.forceUseGlobalHTML5Audio&&(Lt.push(O.globalHTML5),Dt=!0)),!ut&&Ht&&(ct.setupOptions.ignoreMobileRestrictions?Lt.push(O.ignoreMobile):(ct.setupOptions.useHTML5Audio=!0,ct.setupOptions.preferFlash=!1,Mt?ct.ignoreFlash=!0:(At&&!pt.match(/android\s2\.3/i)||!At)&&(Dt=!0))),t&&(n&&C&&t.url!==e&&ct.beginDelayedInit(),C||t.url===e||"complete"!==dt.readyState||setTimeout(E,1)),ut=!0,ct},this.supported=this.ok=function(){return Ct?yt&&!xt:ct.useHTML5Audio&&ct.hasHTML5},this.getMovie=function(e){return a(e)||dt[e]||t[e]},this.createSound=function(t,n){function i(){return r=q(r),ct.sounds[r.id]=new s(r),ct.soundIDs.push(r.id),ct.sounds[r.id]}var r,o=null;if(!yt||!ct.ok())return!1;if(n!==e&&(t={id:t,url:n}),r=f(t),r.url=V(r.url),r.id===e&&(r.id=ct.setupOptions.idPrefix+kt++),U(r.id,!0))return ct.sounds[r.id];if(G(r))o=i(),
o._setup_html5(r);else{if(ct.html5Only||ct.html5.usingFlash&&r.url&&r.url.match(/data\:/i))return i();8<h&&null===r.isMovieStar&&(r.isMovieStar=!!(r.serverURL||r.type&&r.type.match(Vt)||r.url&&r.url.match(Yt))),r=z(r,void 0),o=i(),8===h?ht._createSound(r.id,r.loops||1,r.usePolicyFile):(ht._createSound(r.id,r.url,r.usePeakData,r.useWaveformData,r.useEQData,r.isMovieStar,!!r.isMovieStar&&r.bufferTime,r.loops||1,r.serverURL,r.duration||null,r.autoPlay,!0,r.autoLoad,r.usePolicyFile),r.serverURL||(o.connected=!0,r.onconnect&&r.onconnect.apply(o))),r.serverURL||!r.autoLoad&&!r.autoPlay||o.load(r)}return!r.serverURL&&r.autoPlay&&o.play(),o},this.destroySound=function(t,e){if(!U(t))return!1;var n,i=ct.sounds[t];for(i.stop(),i._iO={},i.unload(),n=0;n<ct.soundIDs.length;n++)if(ct.soundIDs[n]===t){ct.soundIDs.splice(n,1);break}return e||i.destruct(!0),delete ct.sounds[t],!0},this.load=function(t,e){return!!U(t)&&ct.sounds[t].load(e)},this.unload=function(t){return!!U(t)&&ct.sounds[t].unload()},this.onposition=this.onPosition=function(t,e,n,i){return!!U(t)&&ct.sounds[t].onposition(e,n,i)},this.clearOnPosition=function(t,e,n){return!!U(t)&&ct.sounds[t].clearOnPosition(e,n)},this.start=this.play=function(t,e){var n=null,i=e&&!(e instanceof Object);if(!yt||!ct.ok())return!1;if(U(t,i))i&&(e={url:e});else{if(!i)return!1;i&&(e={url:e}),e&&e.url&&(e.id=t,n=ct.createSound(e).play())}return null===n&&(n=ct.sounds[t].play(e)),n},this.setPosition=function(t,e){return!!U(t)&&ct.sounds[t].setPosition(e)},this.stop=function(t){return!!U(t)&&ct.sounds[t].stop()},this.stopAll=function(){for(var t in ct.sounds)ct.sounds.hasOwnProperty(t)&&ct.sounds[t].stop()},this.pause=function(t){return!!U(t)&&ct.sounds[t].pause()},this.pauseAll=function(){var t;for(t=ct.soundIDs.length-1;0<=t;t--)ct.sounds[ct.soundIDs[t]].pause()},this.resume=function(t){return!!U(t)&&ct.sounds[t].resume()},this.resumeAll=function(){var t;for(t=ct.soundIDs.length-1;0<=t;t--)ct.sounds[ct.soundIDs[t]].resume()},this.togglePause=function(t){return!!U(t)&&ct.sounds[t].togglePause()},this.setPan=function(t,e){return!!U(t)&&ct.sounds[t].setPan(e)},this.setVolume=function(t,n){var i,r;if(t===e||isNaN(t)||n!==e)return!!U(t)&&ct.sounds[t].setVolume(n);for(i=0,r=ct.soundIDs.length;i<r;i++)ct.sounds[ct.soundIDs[i]].setVolume(t)},this.mute=function(t){var e=0;if(t instanceof String&&(t=null),t)return!!U(t)&&ct.sounds[t].mute();for(e=ct.soundIDs.length-1;0<=e;e--)ct.sounds[ct.soundIDs[e]].mute();return ct.muted=!0},this.muteAll=function(){ct.mute()},this.unmute=function(t){if(t instanceof String&&(t=null),t)return!!U(t)&&ct.sounds[t].unmute();for(t=ct.soundIDs.length-1;0<=t;t--)ct.sounds[ct.soundIDs[t]].unmute();return ct.muted=!1,!0},this.unmuteAll=function(){ct.unmute()},this.toggleMute=function(t){return!!U(t)&&ct.sounds[t].toggleMute()},this.getMemoryUse=function(){var t=0;return ht&&8!==h&&(t=parseInt(ht._getMemoryUse(),10)),t},this.disable=function(n){var i;if(n===e&&(n=!1),xt)return!1;for(xt=!0,i=ct.soundIDs.length-1;0<=i;i--)N(ct.sounds[ct.soundIDs[i]]);return p(n),et.remove(t,"load",y),!0},this.canPlayMIME=function(t){var e;return ct.hasHTML5&&(e=J({type:t})),!e&&Ct&&(e=t&&ct.ok()?!!(8<h&&t.match(Vt)||t.match(ct.mimePattern)):null),e},this.canPlayURL=function(t){var e;return ct.hasHTML5&&(e=J({url:t})),!e&&Ct&&(e=t&&ct.ok()?!!t.match(ct.filePattern):null),e},this.canPlayLink=function(t){return!(t.type===e||!t.type||!ct.canPlayMIME(t.type))||ct.canPlayURL(t.href)},this.getSoundById=function(t,e){return t?ct.sounds[t]:null},this.onready=function(e,n){if("function"!=typeof e)throw F("needFunction","onready");return n||(n=t),g("onready",e,n),m(),!0},this.ontimeout=function(e,n){if("function"!=typeof e)throw F("needFunction","ontimeout");return n||(n=t),g("ontimeout",e,n),m({type:"ontimeout"}),!0},this._wD=this._writeDebug=function(t,e){return!0},this._debug=function(){},this.reboot=function(e,n){var i,r,o;for(i=ct.soundIDs.length-1;0<=i;i--)ct.sounds[ct.soundIDs[i]].destruct();if(ht)try{Nt&&(Tt=ht.innerHTML),bt=ht.parentNode.removeChild(ht)}catch(s){}if(Tt=bt=Ct=ht=null,ct.enabled=C=yt=_t=Ot=gt=mt=xt=Dt=ct.swfLoaded=!1,ct.soundIDs=[],ct.sounds={},kt=0,ut=!1,e)vt=[];else for(i in vt)if(vt.hasOwnProperty(i))for(r=0,o=vt[i].length;r<o;r++)vt[i][r].fired=!1;return ct.html5={usingFlash:null},ct.flash={},ct.html5Only=!1,ct.ignoreFlash=!1,t.setTimeout(function(){n||ct.beginDelayedInit()},20),ct},this.reset=function(){return ct.reboot(!0,!0)},this.getMoviePercent=function(){return ht&&"PercentLoaded"in ht?ht.PercentLoaded():null},this.beginDelayedInit=function(){wt=!0,E(),setTimeout(function(){return!Ot&&(D(),S(),Ot=!0)},20),x()},this.destruct=function(){ct.disable(!0)},s=function(t){var n,i,r,o,s,a,u,c,l,p,d,v=this,g=!1,m=[],y=0,x=null;i=n=null,this.sID=this.id=t.id,this.url=t.url,this._iO=this.instanceOptions=this.options=f(t),this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,d=!this.url,this.id3={},this._debug=function(){},this.load=function(t){var n,i=null;if(t!==e?v._iO=f(t,v.options):(t=v.options,v._iO=t,x&&x!==v.url&&(v._iO.url=v.url,v.url=null)),v._iO.url||(v._iO.url=v.url),v._iO.url=V(v._iO.url),n=v.instanceOptions=v._iO,!n.url&&!v.url)return v;if(n.url===v.url&&0!==v.readyState&&2!==v.readyState)return 3===v.readyState&&n.onload&&at(v,function(){n.onload.apply(v,[!!v.duration])}),v;if(v.loaded=!1,v.readyState=1,v.playState=0,v.id3={},G(n))i=v._setup_html5(n),i._called_load||(v._html5_canplay=!1,v.url!==n.url&&(v._a.src=n.url,v.setPosition(0)),v._a.autobuffer="auto",v._a.preload="auto",v._a._called_load=!0);else{if(ct.html5Only||v._iO.url&&v._iO.url.match(/data\:/i))return v;try{v.isHTML5=!1,v._iO=z(q(n)),v._iO.autoPlay&&(v._iO.position||v._iO.from)&&(v._iO.autoPlay=!1),n=v._iO,8===h?ht._load(v.id,n.url,n.stream,n.autoPlay,n.usePolicyFile):ht._load(v.id,n.url,!!n.stream,!!n.autoPlay,n.loops||1,!!n.autoLoad,n.usePolicyFile)}catch(r){k({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return v.url=n.url,v},this.unload=function(){return 0!==v.readyState&&(v.isHTML5?(a(),v._a&&(v._a.pause(),x=Q(v._a))):8===h?ht._unload(v.id,"about:blank"):ht._unload(v.id),r()),v},this.destruct=function(t){v.isHTML5?(a(),v._a&&(v._a.pause(),Q(v._a),Dt||s(),v._a._s=null,v._a=null)):(v._iO.onfailure=null,ht._destroySound(v.id)),t||ct.destroySound(v.id,!0)},this.start=this.play=function(t,n){var i,r,o,s,a;if(r=!0,r=null,n=n===e||n,t||(t={}),v.url&&(v._iO.url=v.url),v._iO=f(v._iO,v.options),v._iO=f(t,v._iO),v._iO.url=V(v._iO.url),v.instanceOptions=v._iO,!v.isHTML5&&v._iO.serverURL&&!v.connected)return v.getAutoPlay()||v.setAutoPlay(!0),v;if(G(v._iO)&&(v._setup_html5(v._iO),u()),1!==v.playState||v.paused||(i=v._iO.multiShot,i||(v.isHTML5&&v.setPosition(v._iO.position),r=v)),null!==r)return r;if(t.url&&t.url!==v.url&&(v.readyState||v.isHTML5||8!==h||!d?v.load(v._iO):d=!1),v.loaded||(0===v.readyState?(v.isHTML5||ct.html5Only?v.isHTML5?v.load(v._iO):r=v:(v._iO.autoPlay=!0,v.load(v._iO)),v.instanceOptions=v._iO):2===v.readyState&&(r=v)),null!==r)return r;if(!v.isHTML5&&9===h&&0<v.position&&v.position===v.duration&&(t.position=0),v.paused&&0<=v.position&&(!v._iO.serverURL||0<v.position))v.resume();else{if(v._iO=f(t,v._iO),(!v.isHTML5&&null!==v._iO.position&&0<v._iO.position||null!==v._iO.from&&0<v._iO.from||null!==v._iO.to)&&0===v.instanceCount&&0===v.playState&&!v._iO.serverURL){if(i=function(){v._iO=f(t,v._iO),v.play(v._iO)},v.isHTML5&&!v._html5_canplay?(v.load({_oncanplay:i}),r=!1):v.isHTML5||v.loaded||v.readyState&&2===v.readyState||(v.load({onload:i}),r=!1),null!==r)return r;v._iO=p()}(!v.instanceCount||v._iO.multiShotEvents||v.isHTML5&&v._iO.multiShot&&!Dt||!v.isHTML5&&8<h&&!v.getAutoPlay())&&v.instanceCount++,v._iO.onposition&&0===v.playState&&c(v),v.playState=1,v.paused=!1,v.position=v._iO.position===e||isNaN(v._iO.position)?0:v._iO.position,v.isHTML5||(v._iO=z(q(v._iO))),v._iO.onplay&&n&&(v._iO.onplay.apply(v),g=!0),v.setVolume(v._iO.volume,!0),v.setPan(v._iO.pan,!0),v.isHTML5?2>v.instanceCount?(u(),r=v._setup_html5(),v.setPosition(v._iO.position),r.play()):(o=new Audio(v._iO.url),s=function(){et.remove(o,"ended",s),v._onfinish(v),Q(o),o=null},a=function(){et.remove(o,"canplay",a);try{o.currentTime=v._iO.position/1e3}catch(t){}o.play()},et.add(o,"ended",s),v._iO.volume!==e&&(o.volume=Math.max(0,Math.min(1,v._iO.volume/100))),v.muted&&(o.muted=!0),v._iO.position?et.add(o,"canplay",a):o.play()):(r=ht._start(v.id,v._iO.loops||1,9===h?v.position:v.position/1e3,v._iO.multiShot||!1),9!==h||r||v._iO.onplayerror&&v._iO.onplayerror.apply(v))}return v},this.stop=function(t){var e=v._iO;return 1===v.playState&&(v._onbufferchange(0),v._resetOnPosition(0),v.paused=!1,v.isHTML5||(v.playState=0),l(),e.to&&v.clearOnPosition(e.to),v.isHTML5?v._a&&(t=v.position,v.setPosition(0),v.position=t,v._a.pause(),v.playState=0,v._onTimer(),a()):(ht._stop(v.id,t),e.serverURL&&v.unload()),v.instanceCount=0,v._iO={},e.onstop&&e.onstop.apply(v)),v},this.setAutoPlay=function(t){v._iO.autoPlay=t,v.isHTML5||(ht._setAutoPlay(v.id,t),t&&(v.instanceCount||1!==v.readyState||v.instanceCount++))},this.getAutoPlay=function(){return v._iO.autoPlay},this.setPosition=function(t){t===e&&(t=0);var n=v.isHTML5?Math.max(t,0):Math.min(v.duration||v._iO.duration,Math.max(t,0));if(v.position=n,t=v.position/1e3,v._resetOnPosition(v.position),v._iO.position=n,v.isHTML5){if(v._a){if(v._html5_canplay){if(v._a.currentTime!==t)try{v._a.currentTime=t,(0===v.playState||v.paused)&&v._a.pause()}catch(i){}}else if(t)return v;v.paused&&v._onTimer(!0)}}else t=9===h?v.position:t,v.readyState&&2!==v.readyState&&ht._setPosition(v.id,t,v.paused||!v.playState,v._iO.multiShot);return v},this.pause=function(t){return v.paused||0===v.playState&&1!==v.readyState?v:(v.paused=!0,v.isHTML5?(v._setup_html5().pause(),a()):(t||t===e)&&ht._pause(v.id,v._iO.multiShot),v._iO.onpause&&v._iO.onpause.apply(v),v)},this.resume=function(){var t=v._iO;return v.paused?(v.paused=!1,v.playState=1,v.isHTML5?(v._setup_html5().play(),u()):(t.isMovieStar&&!t.serverURL&&v.setPosition(v.position),ht._pause(v.id,t.multiShot)),!g&&t.onplay?(t.onplay.apply(v),g=!0):t.onresume&&t.onresume.apply(v),v):v},this.togglePause=function(){return 0===v.playState?(v.play({position:9!==h||v.isHTML5?v.position/1e3:v.position}),v):(v.paused?v.resume():v.pause(),v)},this.setPan=function(t,n){return t===e&&(t=0),n===e&&(n=!1),v.isHTML5||ht._setPan(v.id,t),v._iO.pan=t,n||(v.pan=t,v.options.pan=t),v},this.setVolume=function(t,n){return t===e&&(t=100),n===e&&(n=!1),v.isHTML5?v._a&&(ct.muted&&!v.muted&&(v.muted=!0,v._a.muted=!0),v._a.volume=Math.max(0,Math.min(1,t/100))):ht._setVolume(v.id,ct.muted&&!v.muted||v.muted?0:t),v._iO.volume=t,n||(v.volume=t,v.options.volume=t),v},this.mute=function(){return v.muted=!0,v.isHTML5?v._a&&(v._a.muted=!0):ht._setVolume(v.id,0),v},this.unmute=function(){v.muted=!1;var t=v._iO.volume!==e;return v.isHTML5?v._a&&(v._a.muted=!1):ht._setVolume(v.id,t?v._iO.volume:v.options.volume),v},this.toggleMute=function(){return v.muted?v.unmute():v.mute()},this.onposition=this.onPosition=function(t,n,i){return m.push({position:parseInt(t,10),method:n,scope:i!==e?i:v,fired:!1}),v},this.clearOnPosition=function(t,e){var n;if(t=parseInt(t,10),isNaN(t))return!1;for(n=0;n<m.length;n++)t!==m[n].position||e&&e!==m[n].method||(m[n].fired&&y--,m.splice(n,1))},this._processOnPosition=function(){var t,e;if(t=m.length,!t||!v.playState||y>=t)return!1;for(--t;0<=t;t--)e=m[t],!e.fired&&v.position>=e.position&&(e.fired=!0,y++,e.method.apply(e.scope,[e.position]));return!0},this._resetOnPosition=function(t){var e,n;if(e=m.length,!e)return!1;for(--e;0<=e;e--)n=m[e],n.fired&&t<=n.position&&(n.fired=!1,y--);return!0},p=function(){var t,e,n=v._iO,i=n.from,r=n.to;return e=function(){v.clearOnPosition(r,e),v.stop()},t=function(){null===r||isNaN(r)||v.onPosition(r,e)},null===i||isNaN(i)||(n.position=i,n.multiShot=!1,t()),n},c=function(){var t,e=v._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&v.onPosition(parseInt(t,10),e[t])},l=function(){var t,e=v._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&v.clearOnPosition(parseInt(t,10))},u=function(){v.isHTML5&&W(v)},a=function(){v.isHTML5&&$(v)},r=function(t){t||(m=[],y=0),g=!1,v._hasTimer=null,v._a=null,v._html5_canplay=!1,v.bytesLoaded=null,v.bytesTotal=null,v.duration=v._iO&&v._iO.duration?v._iO.duration:null,v.durationEstimate=null,v.buffered=[],v.eqData=[],v.eqData.left=[],v.eqData.right=[],v.failures=0,v.isBuffering=!1,v.instanceOptions={},v.instanceCount=0,v.loaded=!1,v.metadata={},v.readyState=0,v.muted=!1,v.paused=!1,v.peakData={left:0,right:0},v.waveformData={left:[],right:[]},v.playState=0,v.position=null,v.id3={}},r(),this._onTimer=function(t){var e,r=!1,o={};if(v._hasTimer||t)return v._a&&(t||(0<v.playState||1===v.readyState)&&!v.paused)&&(e=v._get_html5_duration(),e!==n&&(n=e,v.duration=e,r=!0),v.durationEstimate=v.duration,e=1e3*v._a.currentTime||0,e!==i&&(i=e,r=!0),(r||t)&&v._whileplaying(e,o,o,o,o)),r},this._get_html5_duration=function(){var t=v._iO;return(t=v._a&&v._a.duration?1e3*v._a.duration:t&&t.duration?t.duration:null)&&!isNaN(t)&&1/0!==t?t:null},this._apply_loop=function(t,e){t.loop=1<e?"loop":""},this._setup_html5=function(t){t=f(v._iO,t);var e,n=Dt?lt:v._a,i=decodeURI(t.url);if(Dt?i===decodeURI(nt)&&(e=!0):i===decodeURI(x)&&(e=!0),n){if(n._s)if(Dt)n._s&&n._s.playState&&!e&&n._s.stop();else if(!Dt&&i===decodeURI(x))return v._apply_loop(n,t.loops),n;e||(x&&r(!1),n.src=t.url,nt=x=v.url=t.url,n._called_load=!1)}else t.autoLoad||t.autoPlay?(v._a=new Audio(t.url),v._a.load()):v._a=Ft&&10>opera.version()?new Audio(null):new Audio,n=v._a,n._called_load=!1,Dt&&(lt=n);return v.isHTML5=!0,v._a=n,n._s=v,o(),v._apply_loop(n,t.loops),t.autoLoad||t.autoPlay?v.load():(n.autobuffer=!1,n.preload="auto"),n},o=function(){if(v._a._added_events)return!1;var t;v._a._added_events=!0;for(t in st)st.hasOwnProperty(t)&&v._a&&v._a.addEventListener(t,st[t],!1);return!0},s=function(){var t;v._a._added_events=!1;for(t in st)st.hasOwnProperty(t)&&v._a&&v._a.removeEventListener(t,st[t],!1)},this._onload=function(t){var e=!!t||!v.isHTML5&&8===h&&v.duration;return v.loaded=e,v.readyState=e?3:2,v._onbufferchange(0),v._iO.onload&&at(v,function(){v._iO.onload.apply(v,[e])}),!0},this._onbufferchange=function(t){return!(0===v.playState||t&&v.isBuffering||!t&&!v.isBuffering)&&(v.isBuffering=1===t,v._iO.onbufferchange&&v._iO.onbufferchange.apply(v,[t]),!0)},this._onsuspend=function(){return v._iO.onsuspend&&v._iO.onsuspend.apply(v),!0},this._onfailure=function(t,e,n){v.failures++,v._iO.onfailure&&1===v.failures&&v._iO.onfailure(t,e,n)},this._onwarning=function(t,e,n){v._iO.onwarning&&v._iO.onwarning(t,e,n)},this._onfinish=function(){var t=v._iO.onfinish;v._onbufferchange(0),v._resetOnPosition(0),v.instanceCount&&(v.instanceCount--,v.instanceCount||(l(),v.playState=0,v.paused=!1,v.instanceCount=0,v.instanceOptions={},v._iO={},a(),v.isHTML5&&(v.position=0)),(!v.instanceCount||v._iO.multiShotEvents)&&t&&at(v,function(){t.apply(v)}))},this._whileloading=function(t,e,n,i){var r=v._iO;v.bytesLoaded=t,v.bytesTotal=e,v.duration=Math.floor(n),v.bufferLength=i,v.durationEstimate=v.isHTML5||r.isMovieStar?v.duration:r.duration?v.duration>r.duration?v.duration:r.duration:parseInt(v.bytesTotal/v.bytesLoaded*v.duration,10),v.isHTML5||(v.buffered=[{start:0,end:v.duration}]),(3!==v.readyState||v.isHTML5)&&r.whileloading&&r.whileloading.apply(v)},this._whileplaying=function(t,n,i,r,o){var s=v._iO;return!isNaN(t)&&null!==t&&(v.position=Math.max(0,t),v._processOnPosition(),!v.isHTML5&&8<h&&(s.usePeakData&&n!==e&&n&&(v.peakData={left:n.leftPeak,right:n.rightPeak}),s.useWaveformData&&i!==e&&i&&(v.waveformData={left:i.split(","),right:r.split(",")}),s.useEQData&&o!==e&&o&&o.leftEQ&&(t=o.leftEQ.split(","),v.eqData=t,v.eqData.left=t,o.rightEQ!==e&&o.rightEQ&&(v.eqData.right=o.rightEQ.split(",")))),1===v.playState&&(v.isHTML5||8!==h||v.position||!v.isBuffering||v._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(v)),!0)},this._oncaptiondata=function(t){v.captiondata=t,v._iO.oncaptiondata&&v._iO.oncaptiondata.apply(v,[t])},this._onmetadata=function(t,e){var n,i,r={};for(n=0,i=t.length;n<i;n++)r[t[n]]=e[n];v.metadata=r,v._iO.onmetadata&&v._iO.onmetadata.call(v,v.metadata)},this._onid3=function(t,e){var n,i,r=[];for(n=0,i=t.length;n<i;n++)r[t[n]]=e[n];v.id3=f(v.id3,r),v._iO.onid3&&v._iO.onid3.apply(v)},this._onconnect=function(t){t=1===t,(v.connected=t)&&(v.failures=0,U(v.id)&&(v.getAutoPlay()?v.play(e,v.getAutoPlay()):v._iO.autoLoad&&v.load()),v._iO.onconnect&&v._iO.onconnect.apply(v,[t]))},this._ondataerror=function(t){0<v.playState&&v._iO.ondataerror&&v._iO.ondataerror.apply(v)}},I=function(){return dt.body||dt.getElementsByTagName("div")[0]},a=function(t){return dt.getElementById(t)},f=function(t,n){var i,r,o=t||{};i=n===e?ct.defaultOptions:n;for(r in i)i.hasOwnProperty(r)&&o[r]===e&&(o[r]="object"!=typeof i[r]||null===i[r]?i[r]:f(o[r],i[r]));return o},at=function(e,n){e.isHTML5||8!==h?n():t.setTimeout(n,0)},v={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},d=function(t,n){var i,r=!0,o=n!==e,s=ct.setupOptions;for(i in t)if(t.hasOwnProperty(i))if("object"!=typeof t[i]||null===t[i]||t[i]instanceof Array||t[i]instanceof RegExp)o&&v[n]!==e?ct[n][i]=t[i]:s[i]!==e?(ct.setupOptions[i]=t[i],ct[i]=t[i]):v[i]===e?r=!1:ct[i]instanceof Function?ct[i].apply(ct,t[i]instanceof Array?t[i]:[t[i]]):ct[i]=t[i];else{if(v[i]!==e)return d(t[i],i);r=!1}return r},et=function(){function e(t){t=It.call(t);var e=t.length;return i?(t[1]="on"+t[1],3<e&&t.pop()):3===e&&t.push(!1),t}function n(t,e){var n=t.shift(),o=[r[e]];i?n[o](t[0],t[1]):n[o].apply(n,t)}var i=t.attachEvent,r={add:i?"attachEvent":"addEventListener",remove:i?"detachEvent":"removeEventListener"};return{add:function(){n(e(arguments),"add")},remove:function(){n(e(arguments),"remove")}}}(),st={abort:o(function(){}),canplay:o(function(){var t,n=this._s;if(n._html5_canplay)return!0;if(n._html5_canplay=!0,n._onbufferchange(0),t=n._iO.position===e||isNaN(n._iO.position)?null:n._iO.position/1e3,this.currentTime!==t)try{this.currentTime=t}catch(i){}n._iO._oncanplay&&n._iO._oncanplay()}),canplaythrough:o(function(){var t=this._s;t.loaded||(t._onbufferchange(0),t._whileloading(t.bytesLoaded,t.bytesTotal,t._get_html5_duration()),t._onload(!0))}),durationchange:o(function(){var t,e=this._s;t=e._get_html5_duration(),isNaN(t)||t===e.duration||(e.durationEstimate=e.duration=t)}),ended:o(function(){this._s._onfinish()}),error:o(function(){this._s._onload(!1)}),loadeddata:o(function(){var t=this._s;t._loaded||jt||(t.duration=t._get_html5_duration())}),loadedmetadata:o(function(){}),loadstart:o(function(){this._s._onbufferchange(1)}),play:o(function(){this._s._onbufferchange(0)}),playing:o(function(){this._s._onbufferchange(0)}),progress:o(function(t){var e,n,i=this._s,r=0,r=t.target.buffered;e=t.loaded||0;var o=t.total||1;if(i.buffered=[],r&&r.length){for(e=0,n=r.length;e<n;e++)i.buffered.push({start:1e3*r.start(e),end:1e3*r.end(e)});r=1e3*(r.end(0)-r.start(0)),e=Math.min(1,r/(1e3*t.target.duration))}isNaN(e)||(i._whileloading(e,o,i._get_html5_duration()),e&&o&&e===o&&st.canplaythrough.call(this,t))}),ratechange:o(function(){}),suspend:o(function(t){var e=this._s;st.progress.call(this,t),e._onsuspend()}),stalled:o(function(){}),timeupdate:o(function(){this._s._onTimer()}),waiting:o(function(){this._s._onbufferchange(1)})},G=function(t){return!(!t||!(t.type||t.url||t.serverURL))&&(!(t.serverURL||t.type&&r(t.type))&&(t.type?J({type:t.type}):J({url:t.url})||ct.html5Only||t.url.match(/data\:/i)))},Q=function(t){var n;return t&&(n=jt?"about:blank":ct.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",t.src=n,t._called_unload!==e&&(t._called_load=!1)),Dt&&(nt=null),n},J=function(t){if(!ct.useHTML5Audio||!ct.hasHTML5)return!1;var n=t.url||null;t=t.type||null;var i,o=ct.audioFormats;if(t&&ct.html5[t]!==e)return ct.html5[t]&&!r(t);if(!K){K=[];for(i in o)o.hasOwnProperty(i)&&(K.push(i),o[i].related&&(K=K.concat(o[i].related)));K=new RegExp("\\.("+K.join("|")+")(\\?.*)?$","i")}return(i=n?n.toLowerCase().match(K):null)&&i.length?i=i[1]:t&&(n=t.indexOf(";"),i=(-1!==n?t.substr(0,n):t).substr(6)),i&&ct.html5[i]!==e?n=ct.html5[i]&&!r(i):(t="audio/"+i,n=ct.html5.canPlayType({type:t}),n=(ct.html5[i]=n)&&ct.html5[t]&&!r(t)),n},tt=function(){function t(t){var e,n=e=!1;if(!s||"function"!=typeof s.canPlayType)return e;if(t instanceof Array){for(o=0,e=t.length;o<e;o++)(ct.html5[t[o]]||s.canPlayType(t[o]).match(ct.html5Test))&&(n=!0,ct.html5[t[o]]=!0,ct.flash[t[o]]=!!t[o].match(Wt));e=n}else t=!(!s||"function"!=typeof s.canPlayType)&&s.canPlayType(t),e=!(!t||!t.match(ct.html5Test));return e}if(!ct.useHTML5Audio||!ct.hasHTML5)return Ct=ct.html5.usingFlash=!0,!1;var n,i,r,o,s=Audio!==e?Ft&&10>opera.version()?new Audio(null):new Audio:null,a={};r=ct.audioFormats;for(n in r)if(r.hasOwnProperty(n)&&(i="audio/"+n,a[n]=t(r[n].type),a[i]=a[n],n.match(Wt)?(ct.flash[n]=!0,ct.flash[i]=!0):(ct.flash[n]=!1,ct.flash[i]=!1),r[n]&&r[n].related))for(o=r[n].related.length-1;0<=o;o--)a["audio/"+r[n].related[o]]=a[n],ct.html5[r[n].related[o]]=a[n],ct.flash[r[n].related[o]]=a[n];return a.canPlayType=s?t:null,ct.html5=f(ct.html5,a),ct.html5.usingFlash=Y(),Ct=ct.html5.usingFlash,!0},O={},F=function(){},q=function(t){return 8===h&&1<t.loops&&t.stream&&(t.stream=!1),t},z=function(t,e){return t&&!t.usePolicyFile&&(t.onid3||t.usePeakData||t.useWaveformData||t.useEQData)&&(t.usePolicyFile=!0),t},u=function(){return!1},N=function(t){for(var e in t)t.hasOwnProperty(e)&&"function"==typeof t[e]&&(t[e]=u)},P=function(t){t===e&&(t=!1),(xt||t)&&ct.disable(t)},j=function(t){var e=null;if(t)if(t.match(/\.swf(\?.*)?$/i)){if(e=t.substr(t.toLowerCase().lastIndexOf(".swf?")+4))return t}else t.lastIndexOf("/")!==t.length-1&&(t+="/");return t=(t&&-1!==t.lastIndexOf("/")?t.substr(0,t.lastIndexOf("/")+1):"./")+ct.movieURL,ct.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},T=function(){h=parseInt(ct.flashVersion,10),8!==h&&9!==h&&(ct.flashVersion=h=8);var t=ct.debugMode||ct.debugFlash?"_debug.swf":".swf";ct.useHTML5Audio&&!ct.html5Only&&ct.audioFormats.mp4.required&&9>h&&(ct.flashVersion=h=9),ct.version=ct.versionNumber+(ct.html5Only?" (HTML5-only mode)":9===h?" (AS3/Flash 9)":" (AS2/Flash 8)"),8<h?(ct.defaultOptions=f(ct.defaultOptions,ct.flash9Options),ct.features.buffering=!0,ct.defaultOptions=f(ct.defaultOptions,ct.movieStarOptions),ct.filePatterns.flash9=new RegExp("\\.(mp3|"+Xt.join("|")+")(\\?.*)?$","i"),ct.features.movieStar=!0):ct.features.movieStar=!1,ct.filePattern=ct.filePatterns[8!==h?"flash9":"flash8"],ct.movieURL=(8===h?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",t),ct.features.peakData=ct.features.waveformData=ct.features.eqData=8<h},M=function(t,e){return!!ht&&void ht._setPolling(t,e)},A=function(){},U=this.getSoundById,R=function(){var t=[];return ct.debugMode&&t.push("sm2_debug"),ct.debugFlash&&t.push("flash_debug"),ct.useHighPerformance&&t.push("high_performance"),t.join(" ")},H=function(){F("fbHandler");var t=ct.getMoviePercent(),e={type:"FLASHBLOCK"};return!ct.html5Only&&void(ct.ok()?ct.oMC&&(ct.oMC.className=[R(),"movieContainer","swf_loaded"+(ct.didFlashBlock?" swf_unblocked":"")].join(" ")):(Ct&&(ct.oMC.className=R()+" movieContainer "+(null===t?"swf_timedout":"swf_error")),ct.didFlashBlock=!0,m({type:"ontimeout",ignoreInit:!0,error:e}),k(e)))},g=function(t,n,i){vt[t]===e&&(vt[t]=[]),vt[t].push({method:n,scope:i||null,fired:!1})},m=function(t){if(t||(t={type:ct.ok()?"onready":"ontimeout"}),!yt&&t&&!t.ignoreInit||"ontimeout"===t.type&&(ct.ok()||xt&&!t.ignoreInit))return!1;var e,n={success:t&&t.ignoreInit?ct.ok():!xt},i=t&&t.type?vt[t.type]||[]:[],r=[],n=[n],o=Ct&&!ct.ok();for(t.error&&(n[0].error=t.error),t=0,e=i.length;t<e;t++)!0!==i[t].fired&&r.push(i[t]);if(r.length)for(t=0,e=r.length;t<e;t++)r[t].scope?r[t].method.apply(r[t].scope,n):r[t].method.apply(this,n),o||(r[t].fired=!0);return!0},y=function(){t.setTimeout(function(){ct.useFlashBlock&&H(),m(),"function"==typeof ct.onload&&ct.onload.apply(t),ct.waitForWindowLoad&&et.add(t,"load",y)},1)},rt=function(){if(it!==e)return it;var n,i=!1,r=navigator,o=r.plugins,s=t.ActiveXObject;if(o&&o.length)(r=r.mimeTypes)&&r["application/x-shockwave-flash"]&&r["application/x-shockwave-flash"].enabledPlugin&&r["application/x-shockwave-flash"].enabledPlugin.description&&(i=!0);else if(s!==e&&!pt.match(/MSAppHost/i)){try{n=new s("ShockwaveFlash.ShockwaveFlash")}catch(a){n=null}i=!!n}return it=i},Y=function(){var t,e,n=ct.audioFormats;if(Mt&&pt.match(/os (1|2|3_0|3_1)\s/i)?(ct.hasHTML5=!1,ct.html5Only=!0,ct.oMC&&(ct.oMC.style.display="none")):!ct.useHTML5Audio||ct.html5&&ct.html5.canPlayType||(ct.hasHTML5=!1),ct.useHTML5Audio&&ct.hasHTML5)for(e in X=!0,n)n.hasOwnProperty(e)&&n[e].required&&(ct.html5.canPlayType(n[e].type)?ct.preferFlash&&(ct.flash[e]||ct.flash[n[e].type])&&(t=!0):(X=!1,t=!0));return ct.ignoreFlash&&(t=!1,X=!0),ct.html5Only=ct.hasHTML5&&ct.useHTML5Audio&&!t,!ct.html5Only},V=function(t){var e,n,i=0;if(t instanceof Array){for(e=0,n=t.length;e<n;e++)if(t[e]instanceof Object){if(ct.canPlayMIME(t[e].type)){i=e;break}}else if(ct.canPlayURL(t[e])){i=e;break}t[i].url&&(t[i]=t[i].url),t=t[i]}return t},W=function(t){t._hasTimer||(t._hasTimer=!0,!Ht&&ct.html5PollingInterval&&(null===Et&&0===St&&(Et=setInterval(B,ct.html5PollingInterval)),St++))},$=function(t){t._hasTimer&&(t._hasTimer=!1,!Ht&&ct.html5PollingInterval&&St--)},B=function(){var t;if(null!==Et&&!St)return clearInterval(Et),Et=null,!1;for(t=ct.soundIDs.length-1;0<=t;t--)ct.sounds[ct.soundIDs[t]].isHTML5&&ct.sounds[ct.soundIDs[t]]._hasTimer&&ct.sounds[ct.soundIDs[t]]._onTimer()},k=function(n){n=n!==e?n:{},"function"==typeof ct.onerror&&ct.onerror.apply(t,[{type:n.type!==e?n.type:null}]),n.fatal!==e&&n.fatal&&ct.disable()},ot=function(){if(!Rt||!rt())return!1;var t,e,n=ct.audioFormats;for(e in n)if(n.hasOwnProperty(e)&&("mp3"===e||"mp4"===e)&&(ct.html5[e]=!1,n[e]&&n[e].related))for(t=n[e].related.length-1;0<=t;t--)ct.html5[n[e].related[t]]=!1},this._setSandboxType=function(t){},this._externalInterfaceOK=function(t){return!ct.swfLoaded&&(ct.swfLoaded=!0,zt=!1,Rt&&ot(),void setTimeout(l,Nt?100:1))},D=function(t,n){function i(t,e){return'<param name="'+t+'" value="'+e+'" />'}if(gt&&mt)return!1;if(ct.html5Only)return T(),ct.oMC=a(ct.movieID),l(),mt=gt=!0,!1;var r,o,s,u=n||ct.url,c=ct.altURL||u,h=I(),p=R(),f=null,f=dt.getElementsByTagName("html")[0],f=f&&f.dir&&f.dir.match(/rtl/i);if(t=t===e?ct.id:t,T(),ct.url=j($t?u:c),n=ct.url,ct.wmode=!ct.wmode&&ct.useHighPerformance?"transparent":ct.wmode,null!==ct.wmode&&(pt.match(/msie 8/i)||!Nt&&!ct.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Lt.push(O.spcWmode),ct.wmode=null),h={name:t,id:t,src:n,quality:"high",allowScriptAccess:ct.allowScriptAccess,bgcolor:ct.bgColor,pluginspage:Bt+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:ct.wmode,hasPriority:"true"},ct.debugFlash&&(h.FlashVars="debug=1"),ct.wmode||delete h.wmode,Nt)u=dt.createElement("div"),o=['<object id="'+t+'" data="'+n+'" type="'+h.type+'" title="'+h.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',i("movie",n),i("AllowScriptAccess",ct.allowScriptAccess),i("quality",h.quality),ct.wmode?i("wmode",ct.wmode):"",i("bgcolor",ct.bgColor),i("hasPriority","true"),ct.debugFlash?i("FlashVars",h.FlashVars):"","</object>"].join("");else for(r in u=dt.createElement("embed"),h)h.hasOwnProperty(r)&&u.setAttribute(r,h[r]);if(A(),p=R(),h=I())if(ct.oMC=a(ct.movieID)||dt.createElement("div"),ct.oMC.id)s=ct.oMC.className,ct.oMC.className=(s?s+" ":"movieContainer")+(p?" "+p:""),ct.oMC.appendChild(u),Nt&&(r=ct.oMC.appendChild(dt.createElement("div")),r.className="sm2-object-box",r.innerHTML=o),mt=!0;else{if(ct.oMC.id=ct.movieID,ct.oMC.className="movieContainer "+p,r=p=null,ct.useFlashBlock||(ct.useHighPerformance?p={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(p={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},f&&(p.left=Math.abs(parseInt(p.left,10))+"px"))),Pt&&(ct.oMC.style.zIndex=1e4),!ct.debugFlash)for(s in p)p.hasOwnProperty(s)&&(ct.oMC.style[s]=p[s]);try{Nt||ct.oMC.appendChild(u),h.appendChild(ct.oMC),Nt&&(r=ct.oMC.appendChild(dt.createElement("div")),r.className="sm2-object-box",r.innerHTML=o),mt=!0}catch(d){throw Error(F("domError")+" \n"+d.toString())}}return gt=!0},S=function(){return ct.html5Only?(D(),!1):!(ht||!ct.url)&&(ht=ct.getMovie(ct.id),ht||(bt?(Nt?ct.oMC.innerHTML=Tt:ct.oMC.appendChild(bt),bt=null,gt=!0):D(ct.id,ct.url),ht=ct.getMovie(ct.id)),"function"==typeof ct.oninitmovie&&setTimeout(ct.oninitmovie,1),!0)},x=function(){setTimeout(w,1e3)},b=function(){t.setTimeout(function(){ct.setup({preferFlash:!1}).reboot(),ct.didFlashBlock=!0,ct.beginDelayedInit()},1)},w=function(){var e,n=!1;return!(!ct.url||_t)&&(_t=!0,et.remove(t,"load",x),!(it&&zt&&!qt)&&(yt||(e=ct.getMoviePercent(),0<e&&100>e&&(n=!0)),void setTimeout(function(){return e=ct.getMoviePercent(),n?(_t=!1,t.setTimeout(x,1),!1):void(!yt&&Ut&&(null===e?ct.useFlashBlock||0===ct.flashLoadTimeout?ct.useFlashBlock&&H():!ct.useFlashBlock&&X?b():m({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0!==ct.flashLoadTimeout&&(!ct.useFlashBlock&&X?b():P(!0))))},ct.flashLoadTimeout)))},_=function(){return qt||!zt?(et.remove(t,"focus",_),!0):(qt=Ut=!0,_t=!1,x(),et.remove(t,"focus",_),!0)},p=function(e){if(yt)return!1;if(ct.html5Only)return yt=!0,y(),!0;var n,i=!0;return ct.useFlashBlock&&ct.flashLoadTimeout&&!ct.getMoviePercent()||(yt=!0),n={type:!it&&Ct?"NO_FLASH":"INIT_TIMEOUT"},(xt||e)&&(ct.useFlashBlock&&ct.oMC&&(ct.oMC.className=R()+" "+(null===ct.getMoviePercent()?"swf_timedout":"swf_error")),m({type:"ontimeout",error:n,ignoreInit:!0}),k(n),i=!1),xt||(ct.waitForWindowLoad&&!wt?et.add(t,"load",y):y()),i},c=function(){var t,n=ct.setupOptions;for(t in n)n.hasOwnProperty(t)&&(ct[t]===e?ct[t]=n[t]:ct[t]!==n[t]&&(ct.setupOptions[t]=ct[t]))},l=function(){if(yt)return!1;if(ct.html5Only)return yt||(et.remove(t,"load",ct.beginDelayedInit),ct.enabled=!0,p()),!0;S();try{ht._externalInterfaceTest(!1),M(!0,ct.flashPollingInterval||(ct.useHighPerformance?10:50)),ct.debugMode||ht._disableDebug(),ct.enabled=!0,ct.html5Only||et.add(t,"unload",u)}catch(e){return k({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),P(!0),p(),!1}return p(),et.remove(t,"load",ct.beginDelayedInit),!0},E=function(){return!C&&(C=!0,c(),A(),!it&&ct.hasHTML5&&ct.setup({useHTML5Audio:!0,preferFlash:!1}),tt(),!it&&Ct&&(Lt.push(O.needFlash),ct.setup({flashLoadTimeout:1})),dt.removeEventListener&&dt.removeEventListener("DOMContentLoaded",E,!1),S(),!0)},Z=function(){return"complete"===dt.readyState&&(E(),dt.detachEvent("onreadystatechange",Z)),!0},L=function(){wt=!0,E(),et.remove(t,"load",L)},rt(),et.add(t,"focus",_),et.add(t,"load",x),et.add(t,"load",L),dt.addEventListener?dt.addEventListener("DOMContentLoaded",E,!1):dt.attachEvent?dt.attachEvent("onreadystatechange",Z):k({type:"NO_DOM2_EVENTS",fatal:!0})}if(!t||!t.document)throw Error("SoundManager requires a browser with window and document objects.");var i=null;t.SM2_DEFER!==e&&SM2_DEFER||(i=new n),"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports.SoundManager=n,module.exports.soundManager=i):"function"==typeof define&&define.amd&&define(function(){return{constructor:n,getInstance:function(e){return!t.soundManager&&e instanceof Function&&(e=e(n),e instanceof n&&(t.soundManager=e)),t.soundManager}}}),t.SoundManager=n,t.soundManager=i}(window);var clusterfck=function(){var t=function(e,n){var i=t.resolve(e,n||"/"),r=t.modules[i];if(!r)throw new Error("Failed to resolve module "+e+", tried "+i);var o=r._cached?r._cached:r();return o};t.paths=[],t.modules={},t.extensions=[".js",".coffee"],
t._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},t.resolve=function(){return function(e,n){function i(e){if(t.modules[e])return e;for(var n=0;n<t.extensions.length;n++){var i=t.extensions[n];if(t.modules[e+i])return e+i}}function r(e){e=e.replace(/\/+$/,"");var n=e+"/package.json";if(t.modules[n]){var r=t.modules[n](),o=r.browserify;if("object"==typeof o&&o.main){var s=i(a.resolve(e,o.main));if(s)return s}else if("string"==typeof o){var s=i(a.resolve(e,o));if(s)return s}else if(r.main){var s=i(a.resolve(e,r.main));if(s)return s}}return i(e+"/index")}function o(t,e){for(var n=s(e),o=0;o<n.length;o++){var a=n[o],u=i(a+"/"+t);if(u)return u;var c=r(a+"/"+t);if(c)return c}var u=i(t);if(u)return u}function s(t){var e;e="/"===t?[""]:a.normalize(t).split("/");for(var n=[],i=e.length-1;i>=0;i--)if("node_modules"!==e[i]){var r=e.slice(0,i+1).join("/")+"/node_modules";n.push(r)}return n}if(n||(n="/"),t._core[e])return e;var a=t.modules.path(),u=n||".";if(e.match(/^(?:\.\.?\/|\/)/)){var c=i(a.resolve(u,e))||r(a.resolve(u,e));if(c)return c}var l=o(e,u);if(l)return l;throw new Error("Cannot find module '"+e+"'")}}(),t.alias=function(e,i){var r=t.modules.path(),o=null;try{o=t.resolve(e+"/package.json","/")}catch(s){o=t.resolve(e,"/")}for(var a=r.dirname(o),u=n(t.modules),c=0;c<u.length;c++){var l=u[c];if(l.slice(0,a.length+1)===a+"/"){var h=l.slice(a.length);t.modules[i+h]=t.modules[a+h]}else l===a&&(t.modules[i]=t.modules[a])}},t.define=function(e,n){var i=t._core[e]?"":t.modules.path().dirname(e),r=function(e){return t(e,i)};r.resolve=function(e){return t.resolve(e,i)},r.modules=t.modules,r.define=t.define;var o={exports:{}};t.modules[e]=function(){return t.modules[e]._cached=o.exports,n.call(o.exports,r,o,o.exports,i,e),t.modules[e]._cached=o.exports,o.exports}};var e,n=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};return"undefined"==typeof e&&(e={}),e.nextTick||(e.nextTick=function(t){setTimeout(t,0)}),e.title||(e.title="browser"),e.binding||(e.binding=function(e){if("evals"===e)return t("vm");throw new Error("No such module")}),e.cwd||(e.cwd=function(){return"."}),t.define("path",function(t,n,i,r,o){function s(t,e){for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}function a(t,e){for(var n=0,i=t.length;i>=0;i--){var r=t[i];"."==r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var u=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;i.resolve=function(){for(var t="",n=!1,i=arguments.length;i>=-1&&!n;i--){var r=i>=0?arguments[i]:e.cwd();"string"==typeof r&&r&&(t=r+"/"+t,n="/"===r.charAt(0))}return t=a(s(t.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+t||"."},i.normalize=function(t){var e="/"===t.charAt(0),n="/"===t.slice(-1);return t=a(s(t.split("/"),function(t){return!!t}),!e).join("/"),t||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},i.join=function(){var t=Array.prototype.slice.call(arguments,0);return i.normalize(s(t,function(t,e){return t&&"string"==typeof t}).join("/"))},i.dirname=function(t){var e=u.exec(t)[1]||"",n=!1;return e?1===e.length||n&&e.length<=3&&":"===e.charAt(1)?e:e.substring(0,e.length-1):"."},i.basename=function(t,e){var n=u.exec(t)[2]||"";return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},i.extname=function(t){return u.exec(t)[3]||""}}),t.define("/clusterfck.js",function(t,e,n,i,r){e.exports={hcluster:t("./hcluster"),kmeans:t("./kmeans")}}),t.define("/hcluster.js",function(t,e,n,i,r){var o=t("./distance"),s=function(t,e,n){this.distance=t,this.linkage=e,this.threshold=void 0==n?1/0:n};s.prototype={cluster:function(t,e,n){this.clusters=[],this.dists=[],this.mins=[],this.index=[];for(var i=0;i<t.length;i++){var r={value:t[i],key:i,index:i,size:1};this.clusters[i]=r,this.index[i]=r,this.dists[i]=[],this.mins[i]=0}for(var i=0;i<this.clusters.length;i++)for(var o=0;o<=i;o++){var s=i==o?1/0:this.distance(this.clusters[i].value,this.clusters[o].value);this.dists[i][o]=s,this.dists[o][i]=s,s<this.dists[i][this.mins[i]]&&(this.mins[i]=o)}for(var a=this.mergeClosest(),i=0;a;)n&&i++%e==0&&n(this.clusters),a=this.mergeClosest();return this.clusters.forEach(function(t){delete t.key,delete t.index}),this.clusters},mergeClosest:function(){for(var t=0,e=1/0,n=0;n<this.clusters.length;n++){var i=this.clusters[n].key,r=this.dists[i][this.mins[i]];r<e&&(t=i,e=r)}if(e>=this.threshold)return!1;var o=this.index[t],s=this.index[this.mins[t]],a={left:o,right:s,key:o.key,size:o.size+s.size};this.clusters[o.index]=a,this.clusters.splice(s.index,1),this.index[o.key]=a;for(var n=0;n<this.clusters.length;n++){var r,u=this.clusters[n];o.key==u.key?r=1/0:"single"==this.linkage?(r=this.dists[o.key][u.key],this.dists[o.key][u.key]>this.dists[s.key][u.key]&&(r=this.dists[s.key][u.key])):"complete"==this.linkage?(r=this.dists[o.key][u.key],this.dists[o.key][u.key]<this.dists[s.key][u.key]&&(r=this.dists[s.key][u.key])):r="average"==this.linkage?(this.dists[o.key][u.key]*o.size+this.dists[s.key][u.key]*s.size)/(o.size+s.size):this.distance(u.value,o.value),this.dists[o.key][u.key]=this.dists[u.key][o.key]=r}for(var n=0;n<this.clusters.length;n++){var c=this.clusters[n].key;if(this.mins[c]==o.key||this.mins[c]==s.key){for(var e=c,l=0;l<this.clusters.length;l++){var h=this.clusters[l].key;this.dists[c][h]<this.dists[c][e]&&(e=h)}this.mins[c]=e}this.clusters[n].index=n}return delete o.key,delete s.key,delete o.index,delete s.index,!0}};var a=function(t,e,n,i,r,a){e=e||"euclidean",n=n||"average","string"==typeof e&&(e=o[e]);var u=new s(e,n,i).cluster(t,r,a);return void 0===i?u[0]:u};e.exports=a}),t.define("/distance.js",function(t,e,n,i,r){e.exports={euclidean:function(t,e){for(var n=0,i=0;i<t.length;i++)n+=Math.pow(e[i]-t[i],2);return Math.sqrt(n)},manhattan:function(t,e){for(var n=0,i=0;i<t.length;i++)n+=Math.abs(e[i]-t[i]);return n},max:function(t,e){for(var n=0,i=0;i<t.length;i++)n=Math.max(n,Math.abs(e[i]-t[i]));return n}}}),t.define("/kmeans.js",function(t,e,n,i,r){function o(t,e){var n=t.slice(0);return n.sort(function(){return Math.round(Math.random())-.5}),n.slice(0,e)}function s(t,e,n){for(var i=1/0,r=0,o=0;o<e.length;o++){var s=n(t,e[o]);s<i&&(i=s,r=o)}return r}function a(t,e,n,i,r){n=n||"euclidean","string"==typeof n&&(n=u[n]);for(var a=o(t,e),c=new Array(t.length),l=new Array(e),h=0,p=!0;p;){for(var f=0;f<t.length;f++)c[f]=s(t[f],a,n);p=!1;for(var d=0;d<e;d++){var v=[];if(c.forEach(function(e,n){e==d&&v.push(t[n])}),v.length){for(var g=a[d],m=new Array(g.length),y=0;y<g.length;y++){for(var x=0,f=0;f<v.length;f++)x+=v[f][y];m[y]=x/v.length,m[y]!=g[y]&&(p=!0)}a[d]=m,l[d]=v}}r&&h++%i==0&&r(l)}return l}var u=t("./distance");e.exports=a}),t("/clusterfck")}();!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){var i,r,o={Neuron:n(2),Layer:n(4),Network:n(5),Trainer:n(6),Architect:n(7)};i=[],r=function(){return o}.apply(e,i),!(void 0!==r&&(t.exports=r)),"undefined"!=typeof t&&t.exports&&(t.exports=o),"object"==typeof window&&(!function(){var t=window.synaptic;o.ninja=function(){return window.synaptic=t,o}}(),window.synaptic=o)},function(t,e,n){(function(t){function e(){this.ID=e.uid(),this.label=null,this.connections={inputs:{},projected:{},gated:{}},this.error={responsibility:0,projected:0,gated:0},this.trace={elegibility:{},extended:{},influences:{}},this.state=0,this.old=0,this.activation=0,this.selfconnection=new e.connection(this,this,0),this.squash=e.squash.LOGISTIC,this.neighboors={},this.bias=.2*Math.random()-.1}t&&(t.exports=e),e.prototype={activate:function(t){if("undefined"!=typeof t)return this.activation=t,this.derivative=0,this.bias=0,this.activation;this.old=this.state,this.state=this.selfconnection.gain*this.selfconnection.weight*this.state+this.bias;for(var e in this.connections.inputs){var t=this.connections.inputs[e];this.state+=t.from.activation*t.weight*t.gain}this.activation=this.squash(this.state),this.derivative=this.squash(this.state,!0);var n=[];for(var i in this.trace.extended){var r=this.trace.extended[i],o=this.neighboors[i],s=o.selfconnection.gater==this?o.old:0;for(var a in this.trace.influences[o.ID])s+=this.trace.influences[o.ID][a].weight*this.trace.influences[o.ID][a].from.activation;n[o.ID]=s}for(var e in this.connections.inputs){var t=this.connections.inputs[e];this.trace.elegibility[t.ID]=this.selfconnection.gain*this.selfconnection.weight*this.trace.elegibility[t.ID]+t.gain*t.from.activation;for(var i in this.trace.extended){var r=this.trace.extended[i],o=this.neighboors[i],s=n[o.ID];r[t.ID]=o.selfconnection.gain*o.selfconnection.weight*r[t.ID]+this.derivative*this.trace.elegibility[t.ID]*s}}for(var u in this.connections.gated)this.connections.gated[u].gain=this.activation;return this.activation},propagate:function(t,e){var n=0,i="undefined"!=typeof e;if(i)this.error.responsibility=this.error.projected=e-this.activation;else{for(var r in this.connections.projected){var o=this.connections.projected[r],s=o.to;n+=s.error.responsibility*o.gain*o.weight}this.error.projected=this.derivative*n,n=0;for(var r in this.trace.extended){var s=this.neighboors[r],a=s.selfconnection.gater==this?s.old:0;for(var u in this.trace.influences[r])a+=this.trace.influences[r][u].weight*this.trace.influences[s.ID][u].from.activation;n+=s.error.responsibility*a}this.error.gated=this.derivative*n,this.error.responsibility=this.error.projected+this.error.gated}t=t||.1;for(var r in this.connections.inputs){var u=this.connections.inputs[r],c=this.error.projected*this.trace.elegibility[u.ID];for(var r in this.trace.extended){var s=this.neighboors[r];c+=s.error.responsibility*this.trace.extended[s.ID][u.ID]}u.weight+=t*c}this.bias+=t*this.error.responsibility},project:function(t,n){if(t==this)return this.selfconnection.weight=1,this.selfconnection;var i=this.connected(t);if(i&&"projected"==i.type)return"undefined"!=typeof n&&(i.connection.weight=n),i.connection;var r=new e.connection(this,t,n);this.connections.projected[r.ID]=r,this.neighboors[t.ID]=t,t.connections.inputs[r.ID]=r,t.trace.elegibility[r.ID]=0;for(var o in t.trace.extended){var s=t.trace.extended[o];s[r.ID]=0}return r},gate:function(t){this.connections.gated[t.ID]=t;var e=t.to;if(!(e.ID in this.trace.extended)){this.neighboors[e.ID]=e;var n=this.trace.extended[e.ID]={};for(var i in this.connections.inputs){var r=this.connections.inputs[i];n[r.ID]=0}}e.ID in this.trace.influences?this.trace.influences[e.ID].push(t):this.trace.influences[e.ID]=[t],t.gater=this},selfconnected:function(){return 0!==this.selfconnection.weight},connected:function(t){var e={type:null,connection:!1};if(this==t)return!!this.selfconnected()&&(e.type="selfconnection",e.connection=this.selfconnection,e);for(var n in this.connections)for(var i in this.connections[n]){var i=this.connections[n][i];if(i.to==t)return e.type=n,e.connection=i,e;if(i.from==t)return e.type=n,e.connection=i,e}return!1},clear:function(){for(var t in this.trace.elegibility)this.trace.elegibility[t]=0;for(var t in this.trace.extended)for(var e in this.trace.extended[t])this.trace.extended[t][e]=0;this.error.responsibility=this.error.projected=this.error.gated=0},reset:function(){this.clear();for(var t in this.connections)for(var e in this.connections[t])this.connections[t][e].weight=.2*Math.random()-.1;this.bias=.2*Math.random()-.1,this.old=this.state=this.activation=0},optimize:function(t,n){t=t||{};var i=[],r=[],o=[],s=t.memory||0,a=t.neurons||1,u=t.inputs||[],c=t.targets||[],l=t.outputs||[],h=t.variables||{},p=t.activation_sentences||[],f=t.trace_sentences||[],d=t.propagation_sentences||[],v=t.layers||{__count:0,__neuron:0},g=function(t){var e=n in v&&t[v.__count];e||(v.__count=t.push([])-1,v[n]=v.__count)};g(p),g(f),g(d);var m=v.__count,y=function(){var t=Array.prototype.slice.call(arguments);if(1==t.length){if("target"==t[0]){var e="target_"+c.length;c.push(s)}else var e=t[0];return e in h?h[e]:h[e]={value:0,id:s++}}var n=t.length>2;if(n)var i=t.pop();var r=t.shift(),o=t.pop();if(!n)var i=r[o];var e=o+"_";for(var a in t)e+=t[a]+"_";return e+=r.ID,e in h?h[e]:h[e]={value:i,id:s++}},x=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),n="";for(var i in t)n+="string"==typeof t[i]?t[i]:"F["+t[i].id+"]";e.push(n+";")},w=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},b=w(this.connections.projected),T=w(this.connections.gated),_="input"==n||w(this.connections.inputs),O="output"==n||b&&T,S=y("rate"),E=y(this,"activation");if(_)u.push(E.id);else{p[m].push(i),f[m].push(r),d[m].push(o);var L=y(this,"old"),C=y(this,"state"),I=y(this,"bias");if(this.selfconnection.gater)var D=y(this.selfconnection,"gain");if(this.selfconnected())var k=y(this.selfconnection,"weight");x(L," = ",C,i),this.selfconnected()?this.selfconnection.gater?x(C," = ",D," * ",k," * ",C," + ",I,i):x(C," = ",k," * ",C," + ",I,i):x(C," = ",I,i);for(var M in this.connections.inputs){var A=this.connections.inputs[M],N=y(A.from,"activation"),P=y(A,"weight");if(A.gater)var j=y(A,"gain");this.connections.inputs[M].gater?x(C," += ",N," * ",P," * ",j,i):x(C," += ",N," * ",P,i)}var F=y(this,"derivative");switch(this.squash){case e.squash.LOGISTIC:x(E," = (1 / (1 + Math.exp(-",C,")))",i),x(F," = ",E," * (1 - ",E,")",i);break;case e.squash.TANH:var H=y("aux"),R=y("aux_2");x(H," = Math.exp(",C,")",i),x(R," = 1 / ",H,i),x(E," = (",H," - ",R,") / (",H," + ",R,")",i),x(F," = 1 - (",E," * ",E,")",i);break;case e.squash.IDENTITY:x(E," = ",C,i),x(F," = 1",i);break;case e.squash.HLIM:x(E," = +(",C," > 0)",i),x(F," = 1",i);case e.squash.RELU:x(E," = ",C," > 0 ? ",C," : 0",i),x(F," = ",C," > 0 ? 1 : 0",i)}for(var q in this.trace.extended){var z=this.trace.extended[q],U=this.neighboors[q],W=y("influences["+U.ID+"]"),$=y(U,"old"),B=!1;U.selfconnection.gater==this&&(x(W," = ",$,r),B=!0);for(var V in this.trace.influences[U.ID]){var X=y(this.trace.influences[U.ID][V],"weight"),Y=y(this.trace.influences[U.ID][V].from,"activation");B?x(W," += ",X," * ",Y,r):(x(W," = ",X," * ",Y,r),B=!0)}}for(var M in this.connections.inputs){var A=this.connections.inputs[M];if(A.gater)var j=y(A,"gain");var N=y(A.from,"activation"),G=y(this,"trace","elegibility",A.ID,this.trace.elegibility[A.ID]);this.selfconnected()?this.selfconnection.gater?A.gater?x(G," = ",D," * ",k," * ",G," + ",j," * ",N,r):x(G," = ",D," * ",k," * ",G," + ",N,r):A.gater?x(G," = ",k," * ",G," + ",j," * ",N,r):x(G," = ",k," * ",G," + ",N,r):A.gater?x(G," = ",j," * ",N,r):x(G," = ",N,r);for(var q in this.trace.extended){var z=this.trace.extended[q],U=this.neighboors[q],W=y("influences["+U.ID+"]"),$=y(U,"old"),G=y(this,"trace","elegibility",A.ID,this.trace.elegibility[A.ID]),z=y(this,"trace","extended",U.ID,A.ID,this.trace.extended[U.ID][A.ID]);if(U.selfconnected())var J=y(U.selfconnection,"weight");if(U.selfconnection.gater)var K=y(U.selfconnection,"gain");U.selfconnected()?U.selfconnection.gater?x(z," = ",K," * ",J," * ",z," + ",F," * ",G," * ",W,r):x(z," = ",J," * ",z," + ",F," * ",G," * ",W,r):x(z," = ",F," * ",G," * ",W,r)}}for(var Q in this.connections.gated){var Z=y(this.connections.gated[Q],"gain");x(Z," = ",E,i)}}if(!_){var tt=y(this,"error","responsibility",this.error.responsibility);if(O){var et=y("target");x(tt," = ",et," - ",E,o);for(var q in this.connections.inputs){var A=this.connections.inputs[q],G=y(this,"trace","elegibility",A.ID,this.trace.elegibility[A.ID]),P=y(A,"weight");x(P," += ",S," * (",tt," * ",G,")",o)}l.push(E.id)}else if(b||T){if(T){x(tt," = 0",o);for(var q in this.connections.projected){var Q=this.connections.projected[q],U=Q.to,nt=y(Q,"weight"),it=y(U,"error","responsibility",U.error.responsibility);if(Q.gater){var rt=y(Q,"gain");x(tt," += ",it," * ",rt," * ",nt,o)}else x(tt," += ",it," * ",nt,o)}x(tt," *= ",F,o);for(var q in this.connections.inputs){var A=this.connections.inputs[q],G=y(this,"trace","elegibility",A.ID,this.trace.elegibility[A.ID]),P=y(A,"weight");x(P," += ",S," * (",tt," * ",G,")",o)}}else if(b){x(tt," = 0",o);for(var q in this.trace.extended){var U=this.neighboors[q],W=y("aux"),$=y(U,"old");U.selfconnection.gater==this?x(W," = ",$,o):x(W," = 0",o);for(var A in this.trace.influences[U.ID]){var Q=this.trace.influences[U.ID][A],nt=y(Q,"weight"),ot=y(Q.from,"activation");x(W," += ",nt," * ",ot,o)}var it=y(U,"error","responsibility",U.error.responsibility);x(tt," += ",it," * ",W,o)}x(tt," *= ",F,o);for(var q in this.connections.inputs){var A=this.connections.inputs[q],st=y("aux");x(st," = 0",o);for(var q in this.trace.extended){var U=this.neighboors[q],it=y(U,"error","responsibility",U.error.responsibility),z=y(this,"trace","extended",U.ID,A.ID,this.trace.extended[U.ID][A.ID]);x(st," += ",it," * ",z,o)}var P=y(A,"weight");x(P," += ",S," * ",st,o)}}}else{var at=y("aux");for(var q in this.connections.projected){var Q=this.connections.projected[q],U=Q.to,nt=y(Q,"weight"),it=y(U,"error","responsibility",U.error.responsibility);if(Q.gater){var rt=y(Q,"gain");x(at," += ",it," * ",rt," * ",nt,o)}else x(at," += ",it," * ",nt,o)}var ut=y(this,"error","projected",this.error.projected);x(ut," = ",F," * ",at,o),x(at," = 0",o);for(var q in this.trace.extended){var U=this.neighboors[q],W=y("aux_2"),$=y(U,"old");U.selfconnection.gater==this?x(W," = ",$,o):x(W," = 0",o);for(var A in this.trace.influences[U.ID]){var Q=this.trace.influences[U.ID][A],nt=y(Q,"weight"),ot=y(Q.from,"activation");x(W," += ",nt," * ",ot,o)}var it=y(U,"error","responsibility",U.error.responsibility);x(at," += ",it," * ",W,o)}var ct=y(this,"error","gated",this.error.gated);x(ct," = ",F," * ",at,o),x(tt," = ",ut," + ",ct,o);for(var q in this.connections.inputs){var A=this.connections.inputs[q],st=y("aux"),G=y(this,"trace","elegibility",A.ID,this.trace.elegibility[A.ID]);x(st," = ",ut," * ",G,o);for(var q in this.trace.extended){var U=this.neighboors[q],it=y(U,"error","responsibility",U.error.responsibility),z=y(this,"trace","extended",U.ID,A.ID,this.trace.extended[U.ID][A.ID]);x(st," += ",it," * ",z,o)}var P=y(A,"weight");x(P," += ",S," * ",st,o)}}x(I," += ",S," * ",tt,o)}return{memory:s,neurons:a+1,inputs:u,outputs:l,targets:c,variables:h,activation_sentences:p,trace_sentences:f,propagation_sentences:d,layers:v}}},e.connection=function(t,n,i){if(!t||!n)throw new Error("Connection Error: Invalid neurons");this.ID=e.connection.uid(),this.from=t,this.to=n,this.weight="undefined"==typeof i?.2*Math.random()-.1:i,this.gain=1,this.gater=null},e.squash={},e.squash.LOGISTIC=function(t,n){if(!n)return 1/(1+Math.exp(-t));var i=e.squash.LOGISTIC(t);return i*(1-i)},e.squash.TANH=function(t,n){if(n)return 1-Math.pow(e.squash.TANH(t),2);var i=Math.exp(t),r=1/i;return(i-r)/(i+r)},e.squash.IDENTITY=function(t,e){return e?1:t},e.squash.HLIM=function(t,e){return e?1:t>0?1:0},e.squash.RELU=function(t,e){return e?t>0?1:0:t>0?t:0},function(){var t=0,n=0;e.uid=function(){return t++},e.connection.uid=function(){return n++},e.quantity=function(){return{neurons:t,connections:n}}}()}).call(e,n(3)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){(function(t){function e(t,e){for(this.size=0|t,this.list=[],this.label=e||null,this.connectedTo=[];t--;){var n=new i;this.list.push(n)}}t&&(t.exports=e);var i=n(2),r=n(5);e.prototype={activate:function(t){var e=[];if("undefined"!=typeof t){if(t.length!=this.size)throw new Error("INPUT size and LAYER size must be the same to activate!");for(var n in this.list){var i=this.list[n],r=i.activate(t[n]);e.push(r)}}else for(var n in this.list){var i=this.list[n],r=i.activate();e.push(r)}return e},propagate:function(t,e){if("undefined"!=typeof e){if(e.length!=this.size)throw new Error("TARGET size and LAYER size must be the same to propagate!");for(var n=this.list.length-1;n>=0;n--){var i=this.list[n];i.propagate(t,e[n])}}else for(var n=this.list.length-1;n>=0;n--){var i=this.list[n];i.propagate(t)}},project:function(t,n,i){if(t instanceof r&&(t=t.layers.input),!(t instanceof e))throw new Error("Invalid argument, you can only project connections to LAYERS and NETWORKS!");if(!this.connected(t))return new e.connection(this,t,n,i)},gate:function(t,n){if(n==e.gateType.INPUT){if(t.to.size!=this.size)throw new Error("GATER layer and CONNECTION.TO layer must be the same size in order to gate!");for(var i in t.to.list){var r=t.to.list[i],o=this.list[i];for(var s in r.connections.inputs){var a=r.connections.inputs[s];a.ID in t.connections&&o.gate(a)}}}else if(n==e.gateType.OUTPUT){if(t.from.size!=this.size)throw new Error("GATER layer and CONNECTION.FROM layer must be the same size in order to gate!");for(var i in t.from.list){var r=t.from.list[i],o=this.list[i];for(var u in r.connections.projected){var a=r.connections.projected[u];a.ID in t.connections&&o.gate(a)}}}else if(n==e.gateType.ONE_TO_ONE){if(t.size!=this.size)throw new Error("The number of GATER UNITS must be the same as the number of CONNECTIONS to gate!");for(var i in t.list){var o=this.list[i],a=t.list[i];o.gate(a)}}t.gatedfrom.push({layer:this,type:n})},selfconnected:function(){for(var t in this.list){var e=this.list[t];if(!e.selfconnected())return!1}return!0},connected:function(t){var n=0;for(var i in this.list)for(var r in t.list){var o=this.list[i],s=t.list[r],a=o.connected(s);"projected"==a.type&&n++}if(n==this.size*t.size)return e.connectionType.ALL_TO_ALL;n=0;for(var u in this.list){var o=this.list[u],s=t.list[u],a=o.connected(s);"projected"==a.type&&n++}return n==this.size?e.connectionType.ONE_TO_ONE:void 0},clear:function(){for(var t in this.list){var e=this.list[t];e.clear()}},reset:function(){for(var t in this.list){var e=this.list[t];e.reset()}},neurons:function(){return this.list},add:function(t){this.neurons[t.ID]=t||new i,this.list.push(t),this.size++},set:function(t){t=t||{};for(var e in this.list){var n=this.list[e];t.label&&(n.label=t.label+"_"+n.ID),t.squash&&(n.squash=t.squash),t.bias&&(n.bias=t.bias)}return this}},e.connection=function(t,n,i,r){if(this.ID=e.connection.uid(),this.from=t,this.to=n,this.selfconnection=n==t,this.type=i,this.connections={},this.list=[],this.size=0,this.gatedfrom=[],"undefined"==typeof this.type&&(t==n?this.type=e.connectionType.ONE_TO_ONE:this.type=e.connectionType.ALL_TO_ALL),this.type==e.connectionType.ALL_TO_ALL||this.type==e.connectionType.ALL_TO_ELSE)for(var o in this.from.list)for(var s in this.to.list){var a=this.from.list[o],u=this.to.list[s];if(this.type!=e.connectionType.ALL_TO_ELSE||a!=u){var c=a.project(u,r);this.connections[c.ID]=c,this.size=this.list.push(c)}}else if(this.type==e.connectionType.ONE_TO_ONE)for(var l in this.from.list){var a=this.from.list[l],u=this.to.list[l],c=a.project(u,r);this.connections[c.ID]=c,this.size=this.list.push(c)}t.connectedTo.push(this)},e.connectionType={},e.connectionType.ALL_TO_ALL="ALL TO ALL",e.connectionType.ONE_TO_ONE="ONE TO ONE",e.connectionType.ALL_TO_ELSE="ALL TO ELSE",e.gateType={},e.gateType.INPUT="INPUT",e.gateType.OUTPUT="OUTPUT",e.gateType.ONE_TO_ONE="ONE TO ONE",function(){var t=0;e.connection.uid=function(){return t++}}()}).call(e,n(3)(t))},function(t,e,n){(function(t){function e(t){"undefined"!=typeof t&&(this.layers=t||{input:null,hidden:{},output:null},this.optimized=null)}t&&(t.exports=e);var i=n(2),r=n(4),o=n(6);e.prototype={activate:function(t){if(this.optimized===!1){this.layers.input.activate(t);for(var e in this.layers.hidden)this.layers.hidden[e].activate();return this.layers.output.activate()}return null==this.optimized&&this.optimize(),this.optimized.activate(t)},propagate:function(t,e){if(this.optimized===!1){this.layers.output.propagate(t,e);var n=[];for(var i in this.layers.hidden)n.push(this.layers.hidden[i]);n.reverse();for(var i in n)n[i].propagate(t)}else null==this.optimized&&this.optimize(),this.optimized.propagate(t,e)},project:function(t,n,i){if(this.optimized&&this.optimized.reset(),t instanceof e)return this.layers.output.project(t.layers.input,n,i);if(t instanceof r)return this.layers.output.project(t,n,i);throw new Error("Invalid argument, you can only project connections to LAYERS and NETWORKS!")},gate:function(t,e){this.optimized&&this.optimized.reset(),this.layers.output.gate(t,e)},clear:function(){this.restore();var t=this.layers.input,e=this.layers.output;t.clear();for(var n in this.layers.hidden){var i=this.layers.hidden[n];i.clear()}e.clear(),this.optimized&&this.optimized.reset()},reset:function(){this.restore();var t=this.layers.input,e=this.layers.output;t.reset();for(var n in this.layers.hidden){var i=this.layers.hidden[n];i.reset()}e.reset(),this.optimized&&this.optimized.reset()},optimize:function(){var t=this,e={},n=this.neurons();for(var i in n){for(var r=n[i].neuron,o=n[i].layer;r.neuron;)r=r.neuron;e=r.optimize(e,o)}for(var i in e.propagation_sentences)e.propagation_sentences[i].reverse();e.propagation_sentences.reverse();var s="";s+="var F = Float64Array ? new Float64Array("+e.memory+") : []; ";for(var i in e.variables)s+="F["+e.variables[i].id+"] = "+(e.variables[i].value||0)+"; ";s+="var activate = function(input){\n";for(var i in e.inputs)s+="F["+e.inputs[i]+"] = input["+i+"]; ";for(var a in e.activation_sentences)if(e.activation_sentences[a].length>0)for(var u in e.activation_sentences[a])s+=e.activation_sentences[a][u].join(" "),s+=e.trace_sentences[a][u].join(" ");s+=" var output = []; ";for(var i in e.outputs)s+="output["+i+"] = F["+e.outputs[i]+"]; ";s+="return output; }; ",s+="var propagate = function(rate, target){\n",s+="F["+e.variables.rate.id+"] = rate; ";for(var i in e.targets)s+="F["+e.targets[i]+"] = target["+i+"]; ";for(var a in e.propagation_sentences)for(var u in e.propagation_sentences[a])s+=e.propagation_sentences[a][u].join(" ")+" ";s+=" };\n",s+="var ownership = function(memoryBuffer){\nF = memoryBuffer;\nthis.memory = F;\n};\n",s+="return {\nmemory: F,\nactivate: activate,\npropagate: propagate,\nownership: ownership\n};",s=s.split(";").join(";\n");var c=new Function(s),l=c();l.data={variables:e.variables,activate:e.activation_sentences,propagate:e.propagation_sentences,trace:e.trace_sentences,inputs:e.inputs,outputs:e.outputs,check_activation:this.activate,check_propagation:this.propagate},l.reset=function(){t.optimized&&(t.optimized=null,t.activate=l.data.check_activation,t.propagate=l.data.check_propagation)},this.optimized=l,this.activate=l.activate,this.propagate=l.propagate},restore:function(){if(this.optimized){var t=this.optimized,e=function(){var e=Array.prototype.slice.call(arguments),n=e.shift(),i=e.pop(),r=i+"_";for(var o in e)r+=e[o]+"_";r+=n.ID;var s=t.memory,a=t.data.variables;return r in a?s[a[r].id]:0},n=this.neurons();for(var i in n){for(var r=n[i].neuron;r.neuron;)r=r.neuron;r.state=e(r,"state"),r.old=e(r,"old"),r.activation=e(r,"activation"),r.bias=e(r,"bias");for(var o in r.trace.elegibility)r.trace.elegibility[o]=e(r,"trace","elegibility",o);for(var s in r.trace.extended)for(var o in r.trace.extended[s])r.trace.extended[s][o]=e(r,"trace","extended",s,o)}for(var i in n){for(var r=n[i].neuron;r.neuron;)r=r.neuron;for(var a in r.connections.projected){var u=r.connections.projected[a];u.weight=e(u,"weight"),u.gain=e(u,"gain")}}}},neurons:function(){var t=[],e=this.layers.input.neurons(),n=this.layers.output.neurons();for(var i in e)t.push({neuron:e[i],layer:"input"});for(var r in this.layers.hidden){var o=this.layers.hidden[r].neurons();for(var i in o)t.push({neuron:o[i],layer:r})}for(var i in n)t.push({neuron:n[i],layer:"output"});return t},inputs:function(){return this.layers.input.size},outputs:function(){return this.layers.output.size},set:function(t){this.layers=t,this.optimized&&this.optimized.reset()},setOptimize:function(t){this.restore(),this.optimized&&this.optimized.reset(),this.optimized=!!t&&null},toJSON:function(t){this.restore();var e=this.neurons(),n=[],r=[],o={};for(var s in e){for(var a=e[s].neuron;a.neuron;)a=a.neuron;o[a.ID]=s;var u={trace:{elegibility:{},extended:{}},state:a.state,old:a.old,activation:a.activation,bias:a.bias,layer:e[s].layer};u.squash=a.squash==i.squash.LOGISTIC?"LOGISTIC":a.squash==i.squash.TANH?"TANH":a.squash==i.squash.IDENTITY?"IDENTITY":a.squash==i.squash.HLIM?"HLIM":null,n.push(u)}for(var s in e){for(var a=e[s].neuron;a.neuron;)a=a.neuron;for(var c in a.connections.projected){var l=a.connections.projected[c];r.push({from:o[l.from.ID],to:o[l.to.ID],weight:l.weight,gater:l.gater?o[l.gater.ID]:null})}a.selfconnected()&&r.push({from:o[a.ID],to:o[a.ID],weight:a.selfconnection.weight,gater:a.selfconnection.gater?o[a.selfconnection.gater.ID]:null})}return{neurons:n,connections:r}},toDot:function(t){var e="digraph nn {\n    rankdir = BT\n",n=[this.layers.input].concat(this.layers.hidden,this.layers.output);for(var i in n)for(var r in n[i].connectedTo){var o=n[i].connectedTo[r],s=o.to,a=o.size,u=n.indexOf(n[i]),c=n.indexOf(s);if(t){if(o.gatedfrom.length){var l="fake"+u+"_"+c;e+="    "+l+' [label = "", shape = point, width = 0.01, height = 0.01]\n',e+="    "+u+" -> "+l+" [label = "+a+", arrowhead = none]\n",e+="    "+l+" -> "+c+"\n"}else e+="    "+u+" -> "+c+" [label = "+a+"]\n";for(var h in o.gatedfrom){var p=o.gatedfrom[h].layer,f=(o.gatedfrom[h].type,n.indexOf(p));e+="    "+f+" -> "+l+" [color = blue]\n"}}else{e+="    "+u+" -> "+c+" [label = "+a+"]\n";for(var h in o.gatedfrom){var p=o.gatedfrom[h].layer,f=(o.gatedfrom[h].type,n.indexOf(p));e+="    "+f+" -> "+c+" [color = blue]\n"}}}return e+="}\n",{code:e,link:"https://chart.googleapis.com/chart?chl="+escape(e.replace("/ /g","+"))+"&cht=gv"}},standalone:function(){this.optimized||this.optimize();var t=this.optimized.data,e="function (input) {\n";for(var n in t.inputs)e+="F["+t.inputs[n]+"] = input["+n+"];\n";for(var i in t.activate)for(var r in t.activate[i])e+=t.activate[i][r].join("")+"\n";e+="var output = [];\n";for(var n in t.outputs)e+="output["+n+"] = F["+t.outputs[n]+"];\n";e+="return output;\n}";var o=e.match(/F\[(\d+)\]/g),s=0,a={};for(var u in o){var c=o[u].match(/\d+/)[0];c in a||(a[c]=s++)}var l="F = {\n";for(var n in a)l+=a[n]+": "+this.optimized.memory[n]+",\n";return l=l.substring(0,l.length-2)+"\n};\n",l="var run = "+e.replace(/F\[(\d+)]/g,function(t){return"F["+a[t.match(/\d+/)[0]]+"]"}).replace("{\n","{\n"+l)+";\n",l+="return run",new Function(l)()},worker:function(t,n,i){var r={};i&&(r=i),r.rate=i.rate||.2,r.iterations=i.iterations||1e5,r.error=i.error||.005,r.cost=i.cost||null,r.crossValidate=i.crossValidate||null,costFunction="var cost = "+(i&&i.cost||this.cost||o.cost.MSE)+";\n";var s=e.getWorkerSharedFunctions();s=s.replace(/var cost = options && options\.cost \|\| this\.cost \|\| Trainer\.cost\.MSE;/g,costFunction),s=s.replace("return results;",'postMessage({action: "done", message: results, memoryBuffer: F}, [F.buffer]);'),s=s.replace("console.log('iterations', iterations, 'error', error, 'rate', currentRate)","postMessage({action: 'log', message: {\niterations: iterations,\nerror: error,\nrate: currentRate\n}\n})"),s=s.replace("abort = this.schedule.do({ error: error, iterations: iterations, rate: currentRate })","postMessage({action: 'schedule', message: {\niterations: iterations,\nerror: error,\nrate: currentRate\n}\n})"),this.optimized||this.optimize();var a="var inputs = "+this.optimized.data.inputs.length+";\n";a+="var outputs = "+this.optimized.data.outputs.length+";\n",a+="var F =  new Float64Array(["+this.optimized.memory.toString()+"]);\n",a+="var activate = "+this.optimized.activate.toString()+";\n",a+="var propagate = "+this.optimized.propagate.toString()+";\n",a+="onmessage = function(e) {\nif (e.data.action == 'startTraining') {\ntrain("+JSON.stringify(n)+","+JSON.stringify(r)+");\n}\n}";var u=s+"\n"+a,c=new Blob([u]),l=window.URL.createObjectURL(c);return new Worker(l)},clone:function(){return e.fromJSON(this.toJSON())}},e.getWorkerSharedFunctions=function(){if("undefined"!=typeof e._SHARED_WORKER_FUNCTIONS)return e._SHARED_WORKER_FUNCTIONS;var t=o.prototype.train.toString();
t=t.replace("function (set","function train(set")+"\n";var n=o.prototype._trainSet.toString().replace(/this.network./g,"");n=n.replace("function (set","function _trainSet(set")+"\n",n=n.replace("this.crossValidate","crossValidate"),n=n.replace("crossValidate = true","crossValidate = { }");var i=o.prototype.test.toString().replace(/this.network./g,"");return i=i.replace("function (set","function test(set")+"\n",e._SHARED_WORKER_FUNCTIONS=t+n+i},e.fromJSON=function(t){var n=[],o={input:new r,hidden:[],output:new r};for(var s in t.neurons){var a=t.neurons[s],u=new i;u.trace.elegibility={},u.trace.extended={},u.state=a.state,u.old=a.old,u.activation=a.activation,u.bias=a.bias,u.squash=a.squash in i.squash?i.squash[a.squash]:i.squash.LOGISTIC,n.push(u),"input"==a.layer?o.input.add(u):"output"==a.layer?o.output.add(u):("undefined"==typeof o.hidden[a.layer]&&(o.hidden[a.layer]=new r),o.hidden[a.layer].add(u))}for(var s in t.connections){var a=t.connections[s],c=n[a.from],l=n[a.to],h=a.weight,p=n[a.gater],f=c.project(l,h);p&&p.gate(f)}return new e(o)}}).call(e,n(3)(t))},function(t,e,n){(function(t){function e(t,e){e=e||{},this.network=t,this.rate=e.rate||.2,this.iterations=e.iterations||1e5,this.error=e.error||.005,this.cost=e.cost||null,this.crossValidate=e.crossValidate||null}t&&(t.exports=e),e.prototype={train:function(t,n){function i(t){for(var e,n,i=t.length;i;e=Math.floor(Math.random()*i),n=t[--i],t[i]=t[e],t[e]=n);return t}var r,o,s,a=1,u=0,c=0,l=!1,h=n&&n.cost||this.cost||e.cost.MSE,p=!1,f=Date.now();if(n&&(n.shuffle,n.iterations&&(this.iterations=n.iterations),n.error&&(this.error=n.error),n.rate&&(this.rate=n.rate),n.cost&&(this.cost=n.cost),n.schedule&&(this.schedule=n.schedule),n.customLog&&(console.log("Deprecated: use schedule instead of customLog"),this.schedule=n.customLog),(this.crossValidate||n.crossValidate)&&(this.crossValidate||(this.crossValidate={}),p=!0,n.crossValidate.testSize&&(this.crossValidate.testSize=n.crossValidate.testSize),n.crossValidate.testError&&(this.crossValidate.testError=n.crossValidate.testError))),r=this.rate,Array.isArray(this.rate)&&(c=Math.floor(this.iterations/this.rate.length)),p){var d=Math.ceil((1-this.crossValidate.testSize)*t.length);s=t.slice(0,d),o=t.slice(d)}for(;!l&&u<this.iterations&&a>this.error&&!(p&&a<=this.crossValidate.testError);){var v=t.length;if(a=0,c>0){var g=Math.floor(u/c);r=this.rate[g]||r}p?(this._trainSet(s,r,h),a+=this.test(o).error,v=1):(a+=this._trainSet(t,r,h),v=t.length),u++,a/=v,n&&(this.schedule&&this.schedule.every&&u%this.schedule.every==0?l=this.schedule["do"]({error:a,iterations:u,rate:r}):n.log&&u%n.log==0&&console.log("iterations",u,"error",a,"rate",r),n.shuffle&&i(t))}var m={error:a,iterations:u,time:Date.now()-f};return m},trainAsync:function(t,e){var n=this.workerTrain.bind(this);return new Promise(function(i,r){try{n(t,i,e,!0)}catch(o){r(o)}})},_trainSet:function(t,e,n){var i=0;for(var r in t){var o=t[r].input,s=t[r].output,a=this.network.activate(o);this.network.propagate(e,s),i+=n(s,a)}return i},test:function(t,n){var i,r,o,s=0,a=n&&n.cost||this.cost||e.cost.MSE,u=Date.now();for(var c in t)i=t[c].input,o=t[c].output,r=this.network.activate(i),s+=a(o,r);s/=t.length;var l={error:s,time:Date.now()-u};return l},workerTrain:function(t,e,n,i){i||console.warn("Deprecated: do not use `workerTrain`, use `trainAsync` instead.");var r=this;this.network.optimized||this.network.optimize();var o=this.network.worker(this.network.optimized.memory,t,n);o.onmessage=function(t){switch(t.data.action){case"done":var i=t.data.message.iterations,s=t.data.message.error,a=t.data.message.time;r.network.optimized.ownership(t.data.memoryBuffer),e({error:s,iterations:i,time:a}),o.terminate();break;case"log":console.log(t.data.message);case"schedule":if(n&&n.schedule&&"function"==typeof n.schedule["do"]){var u=n.schedule["do"];u(t.data.message)}}},o.postMessage({action:"startTraining"})},XOR:function(t){if(2!=this.network.inputs()||1!=this.network.outputs())throw new Error("Incompatible network (2 inputs, 1 output)");var n={iterations:1e5,log:!1,shuffle:!0,cost:e.cost.MSE};if(t)for(var i in t)n[i]=t[i];return this.train([{input:[0,0],output:[0]},{input:[1,0],output:[1]},{input:[0,1],output:[1]},{input:[1,1],output:[0]}],n)},DSR:function(t){t=t||{};for(var n=t.targets||[2,4,7,8],r=t.distractors||[3,5,6,9],o=t.prompts||[0,1],s=t.length||24,a=t.success||.95,u=t.iterations||1e5,c=t.rate||.1,l=t.log||0,h=t.schedule||{},p=t.cost||this.cost||e.cost.CROSS_ENTROPY,f=correct=i=j=success=0,d=1,v=n.length+r.length+o.length,g=function(t,e){var n=Math.random()*t|0,i=!1;for(var r in e)n==e[r]&&(i=!0);return i?g(t,e):n},m=function(t,e){for(var n in t)if(Math.round(t[n])!=e[n])return!1;return!0},y=Date.now();f<u&&(success<a||f%1e3!=0);){var x=[],w=s-o.length;for(i=0;i<w;i++){var b=Math.random()*r.length|0;x.push(r[b])}var T=[],_=[];for(i=0;i<o.length;i++)T.push(Math.random()*n.length|0),_.push(g(w,_));for(_=_.sort(),i=0;i<o.length;i++)x[_[i]]=n[T[i]],x.push(o[i]);var O=distractorsCorrect=0;for(d=0,i=0;i<s;i++){var S=[];for(j=0;j<v;j++)S[j]=0;S[x[i]]=1;var E=[];for(j=0;j<n.length;j++)E[j]=0;if(i>=w){var L=i-w;E[T[L]]=1}var C=this.network.activate(S);m(C,E)?i<w?distractorsCorrect++:O++:this.network.propagate(c,E),d+=p(E,C),distractorsCorrect+O==s&&correct++}f%1e3==0&&(correct=0),f++;var I=f%1e3;I=0==I?1e3:I,success=correct/I,d/=s,l&&f%l==0&&console.log("iterations:",f," success:",success," correct:",correct," time:",Date.now()-y," error:",d),h["do"]&&h.every&&f%h.every==0&&h["do"]({iterations:f,success:success,error:d,time:Date.now()-y,correct:correct})}return{iterations:f,success:success,error:d,time:Date.now()-y}},ERG:function(t){t=t||{};var n=t.iterations||15e4,i=t.error||.05,r=t.rate||.1,o=t.log||500,s=t.cost||this.cost||e.cost.CROSS_ENTROPY,a=function(){this.paths=[]};a.prototype={connect:function(t,e){return this.paths.push({node:t,value:e}),this},any:function(){if(0==this.paths.length)return!1;var t=Math.random()*this.paths.length|0;return this.paths[t]},test:function(t){for(var e in this.paths)if(this.paths[e].value==t)return this.paths[e];return!1}};for(var u=function(){var t=new a,e=(new a).connect(t,"E"),n=(new a).connect(e,"S"),i=(new a).connect(e,"V").connect(n,"P"),r=(new a).connect(n,"X");r.connect(r,"S");var o=(new a).connect(i,"V");o.connect(o,"T"),n.connect(o,"X");var s=(new a).connect(r,"T").connect(o,"P"),u=(new a).connect(s,"B");return{input:u,output:t}},c=function(){var t=u(),e=u(),n=new a,i=(new a).connect(n,"E");t.output.connect(i,"T"),e.output.connect(i,"P");var r=(new a).connect(t.input,"P").connect(e.input,"T"),o=(new a).connect(r,"B");return{input:o,output:n}},l=function(){for(var t=c().input,e=t.any(),n="";e;)n+=e.value,e=e.node.any();return n},h=function(t){for(var e=c().input,n=0,i=t.charAt(n);n<t.length;){var r=e.test(i);if(!r)return!1;e=r.node,i=t.charAt(++n)}return!0},p=function(t,e){var n=0,i=-1,r=0,o=-1;for(var s in t)t[s]>n&&(n=t[s],i=s),e[s]>r&&(r=e[s],o=s);return i!=o},f=0,d=1,v={B:0,P:1,T:2,X:3,S:4,E:5},g=Date.now();f<n&&d>i;){var m=0;d=0;for(var y=l(),x=y.charAt(m),w=y.charAt(m+1);m<y.length-1;){for(var b=[],T=[],_=0;_<6;_++)b[_]=0,T[_]=0;b[v[x]]=1,T[v[w]]=1;var O=this.network.activate(b);p(O,T)&&this.network.propagate(r,T),x=y.charAt(++m),w=y.charAt(m+1),d+=s(T,O)}d/=y.length,f++,f%o==0&&console.log("iterations:",f," time:",Date.now()-g," error:",d)}return{iterations:f,error:d,time:Date.now()-g,test:h,generate:l}},timingTask:function(t){function n(t,e){for(var n=t+e,i=0,r=[],o=0;o<n;o++)r.push({input:[0,0],output:[0]});for(;i<n-20;){var s=Math.round(20*Math.random());r[i].input[0]=1;for(var a=i;a<=i+s;a++)r[a].input[1]=s/20,r[a].output[0]=.5;i+=s,s=Math.round(20*Math.random());for(var u=i+1;u<=i+s&&u<n;u++)r[u].input[1]=r[i].input[1];i+=s}for(var c=[],l=[],h=0;h<n;h++)(h<t?c:l).push(r[h]);return{train:c,test:l}}if(2!=this.network.inputs()||1!=this.network.outputs())throw new Error("Invalid Network: must have 2 inputs and one output");if("undefined"==typeof t)var t={};var i=t.iterations||200,r=t.error||.005,o=t.rate||[.03,.02],s=t.log!==!1&&(t.log||10),a=t.cost||this.cost||e.cost.MSE,u=t.trainSamples||7e3,c=t.trainSamples||1e3,l=n(u,c),h=this.train(l.train,{rate:o,log:s,iterations:i,error:r,cost:a});return{train:h,test:this.test(l.test)}}},e.cost={CROSS_ENTROPY:function(t,e){var n=0;for(var i in e)n-=t[i]*Math.log(e[i]+1e-15)+(1-t[i])*Math.log(1+1e-15-e[i]);return n},MSE:function(t,e){var n=0;for(var i in e)n+=Math.pow(t[i]-e[i],2);return n/e.length},BINARY:function(t,e){var n=0;for(var i in e)n+=Math.round(2*t[i])!=Math.round(2*e[i]);return n}}}).call(e,n(3)(t))},function(t,e,n){(function(t){var e=n(4),i=n(5),r=n(6),o={Perceptron:function(){var t=Array.prototype.slice.call(arguments);if(t.length<3)throw new Error("not enough layers (minimum 3) !!");var n=t.shift(),i=t.pop(),o=t,s=new e(n),a=[],u=new e(i),c=s;for(var l in o){var h=o[l],p=new e(h);a.push(p),c.project(p),c=p}c.project(u),this.set({input:s,hidden:a,output:u}),this.trainer=new r(this)},LSTM:function(){var t=Array.prototype.slice.call(arguments);if(t.length<3)throw new Error("not enough layers (minimum 3) !!");var n=t.pop(),i={peepholes:e.connectionType.ALL_TO_ALL,hiddenToHidden:!1,outputToHidden:!1,outputToGates:!1,inputToOutput:!0};if("number"!=typeof n){var o=t.pop();n.hasOwnProperty("peepholes")&&(i.peepholes=n.peepholes),n.hasOwnProperty("hiddenToHidden")&&(i.hiddenToHidden=n.hiddenToHidden),n.hasOwnProperty("outputToHidden")&&(i.outputToHidden=n.outputToHidden),n.hasOwnProperty("outputToGates")&&(i.outputToGates=n.outputToGates),n.hasOwnProperty("inputToOutput")&&(i.inputToOutput=n.inputToOutput)}else var o=n;var s=t.shift(),a=t,u=new e(s),c=[],l=new e(o),h=null;for(var p in a){var f=a[p],d=new e(f).set({bias:1}),v=new e(f).set({bias:1}),g=new e(f),m=new e(f).set({bias:1});c.push(d),c.push(v),c.push(g),c.push(m);var y=u.project(g);if(u.project(d),u.project(v),u.project(m),null!=h){var x=h.project(g);h.project(d),h.project(v),h.project(m)}var w=g.project(l),b=g.project(g);i.hiddenToHidden&&g.project(g,e.connectionType.ALL_TO_ELSE),i.outputToHidden&&l.project(g),i.outputToGates&&(l.project(d),l.project(m),l.project(v)),g.project(d,i.peepholes),g.project(v,i.peepholes),g.project(m,i.peepholes),d.gate(y,e.gateType.INPUT),v.gate(b,e.gateType.ONE_TO_ONE),m.gate(w,e.gateType.OUTPUT),null!=h&&d.gate(x,e.gateType.INPUT),h=g}i.inputToOutput&&u.project(l),this.set({input:u,hidden:c,output:l}),this.trainer=new r(this)},Liquid:function(t,n,i,o,s){for(var a=new e(t),u=new e(n),c=new e(i),l=u.neurons(),h=[],p=0;p<o;p++){var f=Math.random()*l.length|0,d=Math.random()*l.length|0,v=l[f].project(l[d]);h.push(v)}for(var g=0;g<s;g++){var m=Math.random()*l.length|0,v=Math.random()*h.length|0;l[m].gate(h[v])}a.project(u),u.project(c),this.set({input:a,hidden:[u],output:c}),this.trainer=new r(this)},Hopfield:function(t){var n=new e(t),i=new e(t);n.project(i,e.connectionType.ALL_TO_ALL),this.set({input:n,hidden:[],output:i});var s=new r(this),a=o.Hopfield.prototype;a.learn=a.learn||function(t){var e=[];for(var n in t)e.push({input:t[n],output:t[n]});return s.train(e,{iterations:5e5,error:5e-5,rate:1})},a.feed=a.feed||function(t){var e=this.activate(t),t=[];for(var n in e)t[n]=e[n]>.5?1:0;return t}}};for(var s in o)o[s].prototype=new i,o[s].prototype.constructor=o[s];t&&(t.exports=o)}).call(e,n(3)(t))}]),function(){window.UTIL={},UTIL.dist=function(t,e,n,i){return Math.sqrt((t-n)*(t-n)+(e-i)*(e-i))},UTIL.floorToNearest=function(t,e){return e*Math.floor(t/e)},UTIL.lerp=function(t,e,n){return t+(e-t)*n},UTIL.lim=function(t,e,n){return t<e?e:t>=n?n:t},UTIL.mean=function(t){var e=UTIL.sum(t);return e/t.length},UTIL.norm=function(t,e,n){return UTIL.lim((t-e)/(n-e),0,1)},UTIL.sign=function(t){return t>=0?1:-1},UTIL.sum=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e},UTIL.lerpColor=function(t,e,n){var i=UTIL.lerp(t[0],e[0],n),r=UTIL.lerp(t[1],e[1],n),o=UTIL.lerp(t[2],e[2],n);return[Math.round(i),Math.round(r),Math.round(o)]},UTIL.lineIntersect=function(t,e,n,i){var r,o,s,a,u,c;r=e.y-t.y,o=i.y-n.y,s=t.x-e.x,a=n.x-i.x,u=e.x*t.y-t.x*e.y,c=i.x*n.y-n.x*i.y;var l=r*a-o*s;if(0==l)return!1;var h=(s*c-a*u)/l,p=(o*u-r*c)/l;return!(Math.pow(h-e.x,2)+Math.pow(p-e.y,2)>Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))&&(!(Math.pow(h-t.x,2)+Math.pow(p-t.y,2)>Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))&&(!(Math.pow(h-i.x,2)+Math.pow(p-i.y,2)>Math.pow(n.x-i.x,2)+Math.pow(n.y-i.y,2))&&(!(Math.pow(h-n.x,2)+Math.pow(p-n.y,2)>Math.pow(n.x-i.x,2)+Math.pow(n.y-i.y,2))&&{x:h,y:p})))}}();var Trainer=function(){function t(t){var e={};this.opt=_.extend({},e,t),this.opt.trainer?this.init():this.initFake()}return t.prototype.init=function(){this.points=[],this.loadData(),this.loadListeners()},t.prototype.initFake=function(){_this.parseData(TRAINING)},t.prototype.addPoints=function(t){var e=_.map(t,function(t){return[t.x,t.y,t.a,t.v]}),n={columns:["x","y","a","v"],rows:e},i=this.getSession();$.post(this.opt.apiUrl+"/paths/create",{data:JSON.stringify(n),session:i},function(t){})},t.prototype.getSession=function(){var t=localStorage.getItem("session_id");return t?t:(t=Math.random().toString(36).substr(2,8),localStorage.setItem("session_id",t),t)},t.prototype.loadData=function(){var t=this;$.getJSON(this.opt.trainingUrl,function(e){t.parseData(e.paths)})},t.prototype.loadListeners=function(){var t=this;$.subscribe("user.create.points",function(e,n){t.addPoints(n.points)})},t.prototype.parseData=function(t){var e=_.map(t,function(t){var e=t.data,n=e.columns;return _.map(e.rows,function(t){return _.object(n,t)})});$.publish("training.loaded",{data:e})},t}();$(function(){new Trainer(CONFIG)});var Player=function(){function t(t){var e={};this.opt=_.extend({},e,t),this.init()}return t.prototype.init=function(){this.sounds={},this.loadPlayer()},t.prototype.addSound=function(t,e){this.sounds[t]=soundManager.createSound({id:t,url:e,autoLoad:!0,autoPlay:!1,multiShot:!0})},t.prototype.loadInstruments=function(){var t=this;_.each(this.opt.instruments,function(e,n){t.addSound("instrument"+n,e)})},t.prototype.loadNotes=function(){var t=this;_.each(NOTES,function(e,n){t.addSound(n,e.file)})},t.prototype.loadPlayer=function(){var t=this;soundManager.setup({preferFlash:!1,html5Only:!0,useHTML5Audio:!0,onready:function(){t.loadNotes(),t.loadInstruments(),t.loadListeners()}})},t.prototype.loadListeners=function(){var t=this;$.subscribe("note.play",function(e,n,i){t.play(n,i)}),$.subscribe("instrument.play",function(e,n,i){t.play("instrument"+n,i*t.opt.instrumentVolume)})},t.prototype.play=function(t,e){var n=this.sounds[t];n&&e>this.opt.minVolume&&(n.setVolume(100*e),n.play())},t}();$(function(){new Player(CONFIG.player)});var Cord=function(){function t(t){var e={};this.opt=_.extend({},e,t),this.init()}return t.prototype.init=function(){this.ctx=this.opt.ctx,this.amp=0,this.maxAmp=0,this.power=0,this.isOscillating=!1,this.isTransitioning=!1,this.yc=0,this.canvasWidth=this.ctx.canvas.width,this.canvasHeight=this.ctx.canvas.height,this.onUpdate()},t.prototype.getLine=function(){return this.line},t.prototype.isActive=function(){return this.isOscillating||this.isTransitioning},t.prototype.onUpdateTransition=function(t,e){this.transitionStart=new Date,this.transitionStop=new Date(this.transitionStart.getTime()+e),this.transitionOptions=t;var n=NOTES[t.note],i=n.pitch;this.len0=this.len,this.freq0=this.freq,this.tensity0=this.tensity,this.len1=n.len,this.freq1=UTIL.lerp(this.opt.oscRange[0],this.opt.oscRange[1],i),this.tensity1=UTIL.lerp(this.opt.tensityRange[0],this.opt.tensityRange[1],i),this.isTransitioning=!0},t.prototype.onUpdate=function(){this.note=NOTES[this.opt.note],this.len=this.note.len,this.pitch=this.note.pitch,this.freq=UTIL.lerp(this.opt.oscRange[0],this.opt.oscRange[1],this.pitch),this.tensity=UTIL.lerp(this.opt.tensityRange[0],this.opt.tensityRange[1],this.pitch),this.refreshCoordinates()},t.prototype.oscillate=function(){if(!this.isOscillating||this.amp<this.opt.ampMin)return this.yc=0,this.amp=0,this.isOscillating=!1,!1;var t=new Date,e=(t-this.oscTimeStart)*this.freq,n=2*Math.PI*e,i=Math.exp(e*this.tensity);this.amp=this.maxAmp/i,this.yc=Math.cos(n)*this.amp},t.prototype.pluck=function(t){var e=t.x,n=(t.y,t.a),i=t.v,r=1-Math.abs(e-this.xMid)/this.dx;this.power=i*r,this.maxAmp=UTIL.lerp(this.opt.ampRange[0],this.opt.ampRange[1],this.power),this.amp>this.maxAmp&&(this.maxAmp=this.amp),this.amp=this.maxAmp,this.direction=1,n>0&&n<180&&(this.direction=-1),this.isOscillating=!0,this.oscTimeStart=new Date,$.publish("note.play",[this.opt.note,this.power])},t.prototype.refreshCoordinates=function(){var t=this.canvasWidth,e=this.canvasHeight,n=this.len*t,i=this.opt.height*e;this.x0=.5*(t-n),this.x1=this.x0+n,this.y0=i*this.opt.index+i*this.opt.count*.5,this.y1=this.y0,this.line=[{x:this.x0,y:this.y0},{x:this.x1,y:this.y1}],this.dx=this.x1-this.x0,this.xMid=this.x0+.5*this.dx,this.xc=this.xMid},t.prototype.render=function(){var t=this.ctx,e=this.opt.curveRatio;this.transition(),this.oscillate(),t.beginPath(),t.lineCap="round",t.strokeStyle=this.opt.strokeStyle,t.lineWidth=this.opt.lineWidth;var n=this.xc,i=this.yc,r=n-this.x0,o=i-this.y0,s=e*Math.sqrt(r*r+o*o);t.moveTo(this.x0,this.y0),t.bezierCurveTo(n-s,this.y0+i,n+s,this.y1+i,this.x1,this.y1),t.stroke(),t.closePath()},t.prototype.resize=function(){this.canvasWidth=this.ctx.canvas.width,this.canvasHeight=this.ctx.canvas.height,this.refreshCoordinates()},t.prototype.toJSON=function(){return{index:this.opt.index,note:this.note,len:this.len,pitch:this.pitch,freq:this.freq,tensity:this.tensity}},t.prototype.transition=function(){if(!this.isTransitioning)return!1;var t=new Date;if(t>=this.transitionStop)this.update(this.transitionOptions),this.isTransitioning=!1;else{var e=UTIL.norm(t.getTime(),this.transitionStart.getTime(),this.transitionStop.getTime());this.len=UTIL.lerp(this.len0,this.len1,e),this.freq=UTIL.lerp(this.freq0,this.freq1,e),this.tensity=UTIL.lerp(this.tensity0,this.tensity1,e),this.refreshCoordinates()}},t.prototype.update=function(t,e){e?this.onUpdateTransition(_.extend({},t),e):(_.extend(this.opt,t),this.onUpdate())},t}(),Chord=function(){function t(t){var e={key:"c"};this.opt=_.extend({},e,t),this.init()}return t.prototype.init=function(){this.setKey(this.opt.key)},t.prototype.isActive=function(){return _.find(this.cords,function(t){return t.isActive()})},t.prototype.listenForPluck=function(t){var e=[],e=_.map(t,function(t){return t.getLastLine()});e=_.filter(e,function(t){return t.length>1}),_.each(this.cords,function(t){var n=t.getLine();_.each(e,function(e){var i=UTIL.lineIntersect(n[0],n[1],e[0],e[1]);i&&t.pluck(_.extend({},e[1],i))})})},t.prototype.render=function(){_.each(this.cords,function(t){t.render()})},t.prototype.resize=function(){_.each(this.cords,function(t){t.resize()})},t.prototype.setKey=function(t,e){var n=this,i=_.extend({ctx:this.opt.ctx},this.opt.cord),r=CHORDS[t],o=r.notes;i.count=o.length,this.cords=this.cords||[],_.each(o,function(t,r){if(i.index=r,i.note=t,r>n.cords.length-1){var o=new Cord(i);n.cords.push(o)}else n.cords[r].update(i,e)})},t}(),Creature=function(){function t(t){var e={};this.opt=_.extend({},e,t),this.init()}return t.prototype.init=function(){if(this.ctx=this.opt.ctx,this.isTeaching=!1,this.points=[],this.nodes=[],this.training=[],this.network=!1,this.trained=!1,this.activeNode=!1,"machine"==this.opt.type&&!this.opt.fake){var t=this.opt.network.hiddenLayers;this.network=new synaptic.Architect.LSTM(4,t,t,t,4)}this.loadListeners()},t.prototype.addNodeData=function(t){return!!t.length&&void(this.nodes=_.map(t,function(t,e){return{index:e,value:t}}))},t.prototype.addPoint=function(t){this.points.push(t)},t.prototype.addTrainingPoints=function(t){this.training.push(t);var e=this.opt.rememberMax,n=this.training.length;n>e&&(this.training=this.training.slice(n-e))},t.prototype.clearPoints=function(){this.points=[]},t.prototype.forgetPoints=function(t){t=t||new Date;var e=this.opt.strokeMs;this.points=_.reject(this.points,function(n){return t-n.t>e})},t.prototype.generate=function(){if(this.opt.fake)return this.generateFake(),!0;if(this.generating||!this.trained)return!1;this.generating=!0;var t=this.ctx.canvas.width,e=this.ctx.canvas.height,n=this.opt.maxVelocity,i=[],r=0,o=[Math.random(),Math.random(),Math.random(),Math.random()/4],s=new Date,a=(this.training[_.random(0,this.training.length-1)],this.opt.strokeMs);i.push({x:o[0]*t,y:o[1]*e,z:0,a:360*(o[2]-.5),v:o[3],t:s.getTime()});for(var u=0;r<a&&u<1e3;){var c=this.network.activate(o),l=UTIL.dist(o[0]*t,o[1]*e,c[0]*t,c[1]*e),h=UTIL.lerp(.01,n,c[3]),p=1/h*l;r+=p,i.push({x:c[0]*t,y:c[1]*e,z:0,a:360*(c[2]-.5),v:c[3],t:new Date(s.getTime()+r)}),o=c.slice(0),u++}this.points=_.map(i,_.clone),this.generateTime=new Date,this.generating=!1},t.prototype.generateFake=function(){if(this.training.length<=0)return!1;var t=this.ctx.canvas.width,e=this.ctx.canvas.height,n=this.opt.maxVelocity,i=[],r=0,o=[0,0,0,0],s=!1,a=new Date,u=this.training[_.random(0,this.training.length-1)];if(this.activeNode!==!1&&this.nodes.length){var c=this.activeNode,l=_.filter(this.nodes,function(t,e){return t.value==c});if(l.length){var h=l[_.random(0,l.length-1)];h.index<this.training.length&&(u=this.training[h.index])}this.activeNode=!1}_.each(u,function(u){var c=UTIL.lerp(0,n,u.v),l={x:u.x*t,y:u.y*e,z:0,a:360*(u.a-.5),v:u.v,t:new Date(a.getTime()+r)};if(s){var h=UTIL.dist(s.x,s.y,l.x,l.y),p=1/c*h;r+=p}i.push(l),s=_.clone(l),o=_.clone(u)}),this.points=_.map(i,_.clone),this.generateTime=new Date},t.prototype.getLastLine=function(){var t=[],e=_.filter(this.points,function(t){return t.z>0});return e.length>1&&(t=e.slice(e.length-2)),t},t.prototype.getPointsNormal=function(t){t=t||this.points;var e=this.ctx.canvas.width,n=this.ctx.canvas.height,i=[];return _.each(t,function(t,r){var o={x:t.x/e,y:t.y/n,a:t.a/360+.5,v:t.v};i.push(o)}),i},t.prototype.getPoints=function(){return _.map(this.points,_.clone)},t.prototype.isActive=function(){if(this.points.length||this.isTeaching)return!0;if(this.generateTime){var t=new Date;if(t-this.generateTime<this.opt.strokeMs+this.opt.restMs)return!0}return!1},t.prototype.learn=function(t){var e=this.getPointsNormal(t);if(this.opt.fake)return this.addTrainingPoints(e),!0;var n=this.network;return _.each(e,function(t,i){if(i>0){var r=e[i-1];n.activate([r.x,r.y,r.a,r.v]),n.propagate(.3,[t.x,t.y,t.a,t.v])}}),weights},t.prototype.lerpPoints=function(){var t=new Date,e=this.opt.strokeMs,n=[];_.each(this.points,function(i,r){var o=1-(t-i.t)/e;i.z=0,o>0&&o<=1&&(i.z=o),o>0&&n.push(i)}),this.points=n},t.prototype.loadListeners=function(){var t=this;"machine"==this.opt.type&&($.subscribe("training.loaded",function(e,n){t.loadTraining(_.map(n.data,_.clone))}),$(window).on("storage",function(e){var n=e.originalEvent;if("node.activate"==n.key){var i=JSON.parse(localStorage.getItem("node.activate"));t.activeNode=i.value}else if("node.loaded"==n.key){var r=JSON.parse(localStorage.getItem("node.loaded"));t.addNodeData(r.data)}}))},t.prototype.loadTraining=function(t){if(this.opt.fake)return this.training=t,this.trained=!0,!0;var e=[];_.each(t,function(t){_.each(t,function(n,i){if(i>0){var r=t[i-1];e.push({input:[r.x,r.y,r.a,r.v],output:[n.x,n.y,n.a,n.v]})}})});var n=new synaptic.Trainer(this.network);n.train(e),this.trained=!0},t.prototype.onTeachingEnd=function(){this.isTeaching=!1,$.publish("creature.teach.finished",!0)},t.prototype.render=function(){var t=new Date;this.isTeaching&&this.points.length<=0&&t-this.teachTime>this.opt.teachMs?this.onTeachingEnd():this.renderNormalState()},t.prototype.renderNormalState=function(){var t=this,e=this.ctx,n=this.opt.strokeColor.join(","),i=this.opt.strokeWidth;_.each(this.points,function(r,o){t.renderPoint(e,i,r.x,r.y,r.z,n)})},t.prototype.renderPoint=function(t,e,n,i,r,o){var s=e/2,a=s/2,u=t.createRadialGradient(n,i,a*r,n,i,s*r);u.addColorStop(0,"rgba("+o+","+r+")"),u.addColorStop(.5,"rgba("+o+","+r/2+")"),u.addColorStop(1,"rgba("+o+",0)"),t.fillStyle=u,t.fillRect(n-s*r,i-s*r,e*r,e*r)},t.prototype.renderTeachingState=function(t){},t.prototype.setPoints=function(t){this.points=t},t.prototype.teach=function(t){this.weights=t.learn(this.points),this.isTeaching=!0,this.teachTime=new Date},t}(),Environment=function(){function t(t){var e={};this.opt=_.extend({},e,t),this.init()}return t.prototype.init=function(){this.active=!1,this.mode="machine",this.loadCanvas(),"standard"==this.opt.mode&&(this.loadCreatures(),this.loadChord()),"analyzer"==this.opt.mode&&this.loadAnalyzer(),this.loadListeners()},t.prototype.changeChord=function(){this.currentProgressionIndex+=1,this.currentProgressionIndex>=this.chordCount&&(this.currentProgressionIndex=0),this.currentChord=this.progression[this.currentProgressionIndex],this.chord.setKey(this.currentChord,this.opt.chord.transitionMs)},t.prototype.clearCanvas=function(t){t=t||this.ctx,t.clearRect(0,0,t.canvas.width,t.canvas.height)},t.prototype.getGestureData=function(t,e){var n=e||new Date,i=this.canvasOffset,r=t.center.x-i.left,o=t.center.y-i.top,s=t.angle,a=UTIL.norm(Math.abs(t.velocity),0,this.opt.maxVelocity);return{x:r,y:o,z:1,a:s,v:a,t:n}},t.prototype.isActive=function(){return"machine"==this.mode||this.analyzer&&this.analyzer.isActive()||this.humanCreature.isActive()||this.chord.isActive()},t.prototype.loadAnalyzer=function(){var t=_.extend({ctx:this.ctx},this.opt.analyzer);this.analyzer=new Analyzer(t)},t.prototype.loadCanvas=function(){this.$canvasWrapper=$(".canvas-wrapper").first(),this.$canvas=$("#the-canvas"),this.canvas=this.$canvas[0],this.canvasOffset=this.$canvas.offset(),this.ctx=this.canvas.getContext("2d"),this.refreshCanvasSize()},t.prototype.loadChord=function(){this.progression=PROGRESSION.slice(0),this.chordCount=this.progression.length,this.currentProgressionIndex=0,this.currentChord=this.progression[this.currentProgressionIndex];var t=_.extend({ctx:this.ctx,key:this.currentChord},this.opt.chord);this.chord=new Chord(t)},t.prototype.loadCreatures=function(){var t=this,e=_.extend({},this.opt.creature,{ctx:this.ctx,type:"human",maxVelocity:this.opt.maxVelocity});this.humanCreature=new Creature(e),this.creatures=[],_(this.opt.creatureCount).times(function(n){e.type="machine",e.index=n,e.strokeColor=[247,209,13],t.creatures.push(new Creature(e))})},t.prototype.loadListeners=function(){var t=this,e=(this.opt.strokeMs,new Hammer(this.$canvas[0]));"standard"==this.opt.mode&&(e.get("pan").set({direction:Hammer.DIRECTION_ALL}),e.on("panstart",function(e){t.mode="human";var n=t.getGestureData(e);t.humanCreature.setPoints([n]),t.active||t.render()}),e.on("panmove",function(e){if("teaching"==t.mode)return!1;var n=t.getGestureData(e);t.humanCreature.addPoint(n),t.chord.listenForPluck([t.humanCreature])}),e.on("panend",function(e){return"teaching"!=t.mode&&void t.onStrokeEnd()}),$.subscribe("creature.teach.finished",function(e,n){t.mode="machine"}),$.subscribe("user.create.points",function(t,e){localStorage.setItem("user.create.points",JSON.stringify(e.points))}),$.subscribe("machine.create.points",function(t,e){localStorage.setItem("machine.create.points",JSON.stringify(e.points))})),$.subscribe("training.loaded",function(e,n){t.render()}),$(window).on("resize",function(){t.resize()})},t.prototype.onStrokeEnd=function(){this.mode="teaching";var t=this.creatures[_.random(0,this.creatures.length-1)];this.humanCreature.teach(t),this.changeChord(),$.publish("user.create.points",{points:this.humanCreature.getPointsNormal()})},t.prototype.refreshCanvasSize=function(){this.canvasWidth=this.$canvasWrapper.width(),this.canvasHeight=this.$canvasWrapper.height(),this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight},t.prototype.render=function(){var t=this;return this.clearCanvas(),"analyzer"==this.opt.mode?(this.analyzer.render(),void requestAnimationFrame(this.render.bind(this))):("machine"==this.mode?(_.each(this.creatures,function(e){e.isActive()||(t.changeChord(),e.generate(),$.publish("machine.create.points",{points:e.getPointsNormal()})),e.lerpPoints(),e.render()}),this.chord.listenForPluck(this.creatures)):_.each(this.creatures,function(t){t.clearPoints()}),this.humanCreature.lerpPoints(),this.humanCreature.render(),this.chord.render(),void(this.isActive()?(this.active=!0,requestAnimationFrame(this.render.bind(this))):this.active=!1))},t.prototype.resize=function(){this.refreshCanvasSize(),this.chord&&this.chord.resize(),this.analyzer&&this.analyzer.resize(),this.active||this.render()},t}();$(function(){new Environment(CONFIG)});var Node=function(){function t(t){var e={};this.opt=_.extend({},e,t),this.init()}return t.prototype.init=function(){this.ctx=this.opt.ctx,this.mode="resting",this.direction=!1,this.transitionMs=this.opt.transitionMs,this.initValue(this.opt.values),this.setPower(0);var t=new Date;this.phaseStart=t.getTime()+_.random(0,2e3),this.phaseEnd=this.phaseStart+this.phase,this.resize()},t.prototype.activate=function(t,e){this.mode=e||"active",this.startPower=this.power,this.targetPower=t,this.transitionStart=new Date},t.prototype.addValue=function(t){for(var e=[],n=this.count,i=this.value,r=0;r<i.length;r++){var o=(i[r]*n+t[r])/(n+1);e.push(o)}this.value=e,this.count+=1},t.prototype.distance=function(t){var e=this.value,n=t[0],i=e[0],r=t[1],o=e[1],s=t[2],a=e[2];return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r)+(a-s)*(a-s))},t.prototype.initValue=function(t){if(t&&t.length){var e=_.map(t,function(t){return t[0]}),n=_.map(t,function(t){return t[1]}),i=_.map(t,function(t){return t[2]});this.value=[UTIL.mean(e),UTIL.mean(n),UTIL.mean(i)],this.count=t.length}else this.value=[Math.random(),Math.random(),Math.random()],this.count=1},t.prototype.isActive=function(){return!0},t.prototype.onUpdate=function(){var t=this.opt[this.mode],e=t.widthRange,n=t.colorRange,i=t.phaseRange;this.phase=UTIL.lerp(i[0],i[1],this.power),this.widthRange=[e[0],e[1]*this.power],this.colorRange=[n[0],UTIL.lerpColor(n[0],n[1],this.power)]},t.prototype.play=function(){this.power>0&&$.publish("instrument.play",[this.opt.index,this.power])},t.prototype.render=function(){this.transition();var t=this.ctx,e=this.pos,n=new Date,i=UTIL.norm(n.getTime(),this.phaseStart,this.phaseEnd),r=i*Math.PI,o=Math.sin(r),s=UTIL.lerpColor(this.colorRange[0],this.colorRange[1],o),a=UTIL.lerp(this.widthRange[0],this.widthRange[1],o)*e.r;i>=1&&(this.phaseStart=this.phaseEnd,this.phaseEnd+=this.phase,this.play()),t.beginPath(),t.fillStyle="rgb("+s.join(",")+")",t.arc(e.x,e.y,a,0,2*Math.PI),t.fill()},t.prototype.resize=function(t){t&&(this.opt.parent=t);var e=this.opt.parent,n={x:0,y:0,d:0,r:0},i=this.opt.perRow,r=this.opt.index;n.d=e.width/i,n.r=n.d/2,n.x=e.x+r%i*n.d+n.r,n.y=e.y+Math.floor(r/i)*n.d+n.r,this.pos=n},t.prototype.rest=function(){this.activate(0,"resting")},t.prototype.setPower=function(t){this.power=t,this.onUpdate()},t.prototype.transition=function(){if(!this.transitionStart)return!1;var t=new Date,e=t-this.transitionStart;if(e>=this.transitionMs)return this.setPower(this.targetPower),this.transitionStart=!1,!1;var n=e/this.transitionMs,i=UTIL.lerp(this.startPower,this.targetPower,n);this.setPower(i)},t}(),Analyzer=function(){function t(t){var e={};this.opt=_.extend({},e,t),this.init()}return t.prototype.init=function(){this.ctx=this.opt.ctx,this.paths=[],this.onUpdate(),this.loadListeners()},t.prototype.activate=function(t,e){var n=this.analyzePath(t,e),i=n.length;n=_.map(n,function(t,e){return{index:e,value:t}}),n=_.sortBy(n,function(t){return t.value});var r=new Array(i);this.activationDate=new Date,_.each(n,function(t,e){r[t.index]=(1-t.value)/Math.pow(1.5,e)}),_.each(this.nodes,function(t,e){t.activate(r[e])})},t.prototype.analyze=function(t){var e=this,n=_.map(t,function(t){return e.getValue(t)}),i=clusterfck.kmeans(n,this.opt.nodeCount);this.loadNodes(i);var r=_.map(t,function(t,e){return-1});n=_.map(n,function(t,e){return{index:e,value:t}}),_.each(i,function(t,e){_.each(t,function(t,i){var o=_.find(n,function(e){return e.value[0]==t[0]&&e.value[1]==t[1]&&e.value[2]==t[2]});o&&(r[o.index]=e)})}),localStorage.setItem("node.loaded",JSON.stringify({
d:new Date,data:r}))},t.prototype.analyzePath=function(t,e){var n=this.nodes,i=this.getValue(t),r=1,o=0,s=[];return _.each(n,function(t,e){var n=t.distance(i);n<r&&(r=n,o=e),s.push(n)}),e&&(n[o].addValue(i),localStorage.setItem("node.activate",JSON.stringify({d:new Date,value:o}))),s},t.prototype.getValue=function(t){var e=[0,0,0],n=100,i=t.length;return _.each(t,function(t){var i=t.x*n,r=t.y*n,o=r*n+i,s=o/(n*n);e[0]+=s,e[1]+=t.a,e[2]+=t.v}),[e[0]/i,e[1]/i,e[2]/i]},t.prototype.isActive=function(){for(var t=!1,e=0;e<this.nodes.length;e++){var n=this.nodes[e];if(n.isActive()){t=!0;break}}return t},t.prototype.loadListeners=function(){var t=this;$.subscribe("training.loaded",function(e,n){t.analyze(n.data)}),$.subscribe("user.create.points",function(e,n){t.activate(n.points,!0)}),$.subscribe("machine.create.points",function(e,n){t.activate(n.points)}),$(window).on("storage",function(e){var n=e.originalEvent;"user.create.points"==n.key?t.activate(JSON.parse(localStorage.getItem("user.create.points")),!0):"machine.create.points"==n.key&&t.activate(JSON.parse(localStorage.getItem("machine.create.points")))})},t.prototype.loadNodes=function(t){var e=this,n=this.opt.nodeCount,i=this.opt.perRow,r=this.opt.node,o=_.clone(this.pos),s=this.ctx;this.nodes=[],_(n).times(function(n){var a=[];t[n]&&(a=t[n].slice(0)),e.nodes.push(new Node(_.extend({index:n,ctx:s,perRow:i,parent:o,values:a},r)))})},t.prototype.onUpdate=function(){this.canvasWidth=this.ctx.canvas.width,this.canvasHeight=this.ctx.canvas.height;var t={x:0,y:0},e=this.opt.perRow;t.width=this.opt.width*this.canvasWidth;var n=t.width/e,i=Math.ceil(this.opt.nodeCount/e);t.height=n*i,t.x=this.opt.position[0]*this.canvasWidth,t.y=this.opt.position[1]*this.canvasHeight,t.x=_.max([0,t.x-t.width]),t.y=_.max([0,t.y-t.height]),this.pos=t},t.prototype.render=function(){var t=!1;if(this.activationDate){var e=new Date;e-this.activationDate>this.opt.restAfter&&(t=!0,this.activationDate=!1)}_.each(this.nodes,function(e){t&&e.rest(),e.render()})},t.prototype.resize=function(){var t=this;this.onUpdate(),_.each(this.nodes,function(e){e.resize(_.clone(t.pos))})},t}(),Debug=function(){function t(t){var e={};this.opt=_.extend({},e,t),this.opt.debug&&this.init()}return t.prototype.init=function(){this.$debug=$("#debug"),this.timeout=!1,this.loadListeners()},t.prototype.hideMessage=function(){this.$debug.removeClass("active").html("")},t.prototype.loadListeners=function(){var t=this;$.subscribe("debug.message",function(e,n,i){t.timeout&&clearTimeout(t.timeout),t.showMessage(n),i&&(t.timeout=setTimeout(function(){t.hideMessage()},2e3))})},t.prototype.showMessage=function(t){this.$debug.html(t).addClass("active")},t}();$(function(){new Debug(CONFIG)});